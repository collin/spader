minispade.register('bcsocket', "(function() {(function(){\nfunction g(a) {\n  throw a;\n}\nvar h = void 0, j = !0, k = null, o = !1;\nfunction aa() {\n  return function() {\n  }\n}\nfunction p(a) {\n  return function(b) {\n    this[a] = b\n  }\n}\nfunction ba(a) {\n  return function() {\n    return this[a]\n  }\n}\nfunction ca(a) {\n  return function() {\n    return a\n  }\n}\nvar q, da = da || {}, r = this;\nfunction ea(a) {\n  for(var a = a.split(\".\"), b = r, c;c = a.shift();) {\n    if(b[c] != k) {\n      b = b[c]\n    }else {\n      return k\n    }\n  }\n  return b\n}\nfunction fa() {\n}\nfunction ga(a) {\n  var b = typeof a;\n  if(\"object\" == b) {\n    if(a) {\n      if(a instanceof Array) {\n        return\"array\"\n      }\n      if(a instanceof Object) {\n        return b\n      }\n      var c = Object.prototype.toString.call(a);\n      if(\"[object Window]\" == c) {\n        return\"object\"\n      }\n      if(\"[object Array]\" == c || \"number\" == typeof a.length && \"undefined\" != typeof a.splice && \"undefined\" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable(\"splice\")) {\n        return\"array\"\n      }\n      if(\"[object Function]\" == c || \"undefined\" != typeof a.call && \"undefined\" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable(\"call\")) {\n        return\"function\"\n      }\n    }else {\n      return\"null\"\n    }\n  }else {\n    if(\"function\" == b && \"undefined\" == typeof a.call) {\n      return\"object\"\n    }\n  }\n  return b\n}\nfunction t(a) {\n  return\"array\" == ga(a)\n}\nfunction ha(a) {\n  var b = ga(a);\n  return\"array\" == b || \"object\" == b && \"number\" == typeof a.length\n}\nfunction v(a) {\n  return\"string\" == typeof a\n}\nfunction ia(a) {\n  return a[ja] || (a[ja] = ++ka)\n}\nvar ja = \"closure_uid_\" + Math.floor(2147483648 * Math.random()).toString(36), ka = 0;\nfunction la(a, b, c) {\n  return a.call.apply(a.bind, arguments)\n}\nfunction ma(a, b, c) {\n  a || g(Error());\n  if(2 < arguments.length) {\n    var d = Array.prototype.slice.call(arguments, 2);\n    return function() {\n      var c = Array.prototype.slice.call(arguments);\n      Array.prototype.unshift.apply(c, d);\n      return a.apply(b, c)\n    }\n  }\n  return function() {\n    return a.apply(b, arguments)\n  }\n}\nfunction w(a, b, c) {\n  w = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf(\"native code\") ? la : ma;\n  return w.apply(k, arguments)\n}\nvar x = Date.now || function() {\n  return+new Date\n};\nfunction y(a, b) {\n  function c() {\n  }\n  c.prototype = b.prototype;\n  a.ja = b.prototype;\n  a.prototype = new c\n}\n;function na(a, b) {\n  for(var c = 1;c < arguments.length;c++) {\n    var d = (\"\" + arguments[c]).replace(/\\$/g, \"$$$$\"), a = a.replace(/\\%s/, d)\n  }\n  return a\n}\nfunction oa(a) {\n  if(!pa.test(a)) {\n    return a\n  }\n  -1 != a.indexOf(\"&\") && (a = a.replace(qa, \"&amp;\"));\n  -1 != a.indexOf(\"<\") && (a = a.replace(ra, \"&lt;\"));\n  -1 != a.indexOf(\">\") && (a = a.replace(sa, \"&gt;\"));\n  -1 != a.indexOf('\"') && (a = a.replace(ta, \"&quot;\"));\n  return a\n}\nvar qa = /&/g, ra = /</g, sa = />/g, ta = /\\\"/g, pa = /[&<>\\\"]/;\nvar z, va, wa, xa;\nfunction ya() {\n  return r.navigator ? r.navigator.userAgent : k\n}\nxa = wa = va = z = o;\nvar za;\nif(za = ya()) {\n  var Aa = r.navigator;\n  z = 0 == za.indexOf(\"Opera\");\n  va = !z && -1 != za.indexOf(\"MSIE\");\n  wa = !z && -1 != za.indexOf(\"WebKit\");\n  xa = !z && !wa && \"Gecko\" == Aa.product\n}\nvar Ba = z, A = va, Ca = xa, B = wa, Da;\na: {\n  var Ea = \"\", Fa;\n  if(Ba && r.opera) {\n    var Ga = r.opera.version, Ea = \"function\" == typeof Ga ? Ga() : Ga\n  }else {\n    if(Ca ? Fa = /rv\\:([^\\);]+)(\\)|;)/ : A ? Fa = /MSIE\\s+([^\\);]+)(\\)|;)/ : B && (Fa = /WebKit\\/(\\S+)/), Fa) {\n      var Ha = Fa.exec(ya()), Ea = Ha ? Ha[1] : \"\"\n    }\n  }\n  if(A) {\n    var Ia, Ja = r.document;\n    Ia = Ja ? Ja.documentMode : h;\n    if(Ia > parseFloat(Ea)) {\n      Da = \"\" + Ia;\n      break a\n    }\n  }\n  Da = Ea\n}\nvar Ka = {};\nfunction C(a) {\n  var b;\n  if(!(b = Ka[a])) {\n    b = 0;\n    for(var c = (\"\" + Da).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g, \"\").split(\".\"), d = (\"\" + a).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g, \"\").split(\".\"), e = Math.max(c.length, d.length), f = 0;0 == b && f < e;f++) {\n      var i = c[f] || \"\", m = d[f] || \"\", l = RegExp(\"(\\\\d*)(\\\\D*)\", \"g\"), n = RegExp(\"(\\\\d*)(\\\\D*)\", \"g\");\n      do {\n        var s = l.exec(i) || [\"\", \"\", \"\"], u = n.exec(m) || [\"\", \"\", \"\"];\n        if(0 == s[0].length && 0 == u[0].length) {\n          break\n        }\n        b = ((0 == s[1].length ? 0 : parseInt(s[1], 10)) < (0 == u[1].length ? 0 : parseInt(u[1], 10)) ? -1 : (0 == s[1].length ? 0 : parseInt(s[1], 10)) > (0 == u[1].length ? 0 : parseInt(u[1], 10)) ? 1 : 0) || ((0 == s[2].length) < (0 == u[2].length) ? -1 : (0 == s[2].length) > (0 == u[2].length) ? 1 : 0) || (s[2] < u[2] ? -1 : s[2] > u[2] ? 1 : 0)\n      }while(0 == b)\n    }\n    b = Ka[a] = 0 <= b\n  }\n  return b\n}\nvar La = {};\nfunction Ma(a) {\n  return La[a] || (La[a] = A && !!document.documentMode && document.documentMode >= a)\n}\n;function Na(a) {\n  Error.captureStackTrace ? Error.captureStackTrace(this, Na) : this.stack = Error().stack || \"\";\n  a && (this.message = \"\" + a)\n}\ny(Na, Error);\nNa.prototype.name = \"CustomError\";\nfunction Oa(a, b) {\n  b.unshift(a);\n  Na.call(this, na.apply(k, b));\n  b.shift()\n}\ny(Oa, Na);\nOa.prototype.name = \"AssertionError\";\nfunction Pa(a, b) {\n  g(new Oa(\"Failure\" + (a ? \": \" + a : \"\"), Array.prototype.slice.call(arguments, 1)))\n}\n;var Qa = RegExp(\"^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\\\w\\\\d\\\\-\\\\u0100-\\\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\\\?([^#]*))?(?:#(.*))?$\");\nfunction Ra(a) {\n  var b = E, c;\n  for(c in b) {\n    a.call(h, b[c], c, b)\n  }\n}\nfunction Sa(a) {\n  var b = [], c = 0, d;\n  for(d in a) {\n    b[c++] = a[d]\n  }\n  return b\n}\nfunction Ta(a) {\n  var b = [], c = 0, d;\n  for(d in a) {\n    b[c++] = d\n  }\n  return b\n}\nvar Ua = \"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\nfunction Va(a, b) {\n  for(var c, d, e = 1;e < arguments.length;e++) {\n    d = arguments[e];\n    for(c in d) {\n      a[c] = d[c]\n    }\n    for(var f = 0;f < Ua.length;f++) {\n      c = Ua[f], Object.prototype.hasOwnProperty.call(d, c) && (a[c] = d[c])\n    }\n  }\n}\n;var F = Array.prototype, Wa = F.indexOf ? function(a, b, c) {\n  return F.indexOf.call(a, b, c)\n} : function(a, b, c) {\n  c = c == k ? 0 : 0 > c ? Math.max(0, a.length + c) : c;\n  if(v(a)) {\n    return!v(b) || 1 != b.length ? -1 : a.indexOf(b, c)\n  }\n  for(;c < a.length;c++) {\n    if(c in a && a[c] === b) {\n      return c\n    }\n  }\n  return-1\n}, Xa = F.forEach ? function(a, b, c) {\n  F.forEach.call(a, b, c)\n} : function(a, b, c) {\n  for(var d = a.length, e = v(a) ? a.split(\"\") : a, f = 0;f < d;f++) {\n    f in e && b.call(c, e[f], f, a)\n  }\n};\nfunction Ya(a) {\n  return F.concat.apply(F, arguments)\n}\nfunction Za(a) {\n  var b = a.length;\n  if(0 < b) {\n    for(var c = Array(b), d = 0;d < b;d++) {\n      c[d] = a[d]\n    }\n    return c\n  }\n  return[]\n}\n;function $a(a) {\n  if(\"function\" == typeof a.K) {\n    return a.K()\n  }\n  if(v(a)) {\n    return a.split(\"\")\n  }\n  if(ha(a)) {\n    for(var b = [], c = a.length, d = 0;d < c;d++) {\n      b.push(a[d])\n    }\n    return b\n  }\n  return Sa(a)\n}\nfunction G(a, b, c) {\n  if(\"function\" == typeof a.forEach) {\n    a.forEach(b, c)\n  }else {\n    if(ha(a) || v(a)) {\n      Xa(a, b, c)\n    }else {\n      var d;\n      if(\"function\" == typeof a.ea) {\n        d = a.ea()\n      }else {\n        if(\"function\" != typeof a.K) {\n          if(ha(a) || v(a)) {\n            d = [];\n            for(var e = a.length, f = 0;f < e;f++) {\n              d.push(f)\n            }\n          }else {\n            d = Ta(a)\n          }\n        }else {\n          d = h\n        }\n      }\n      for(var e = $a(a), f = e.length, i = 0;i < f;i++) {\n        b.call(c, e[i], d && d[i], a)\n      }\n    }\n  }\n}\n;function ab(a, b) {\n  this.M = {};\n  this.j = [];\n  var c = arguments.length;\n  if(1 < c) {\n    c % 2 && g(Error(\"Uneven number of arguments\"));\n    for(var d = 0;d < c;d += 2) {\n      this.set(arguments[d], arguments[d + 1])\n    }\n  }else {\n    if(a) {\n      a instanceof ab ? (c = a.ea(), d = a.K()) : (c = Ta(a), d = Sa(a));\n      for(var e = 0;e < c.length;e++) {\n        this.set(c[e], d[e])\n      }\n    }\n  }\n}\nq = ab.prototype;\nq.e = 0;\nq.K = function() {\n  bb(this);\n  for(var a = [], b = 0;b < this.j.length;b++) {\n    a.push(this.M[this.j[b]])\n  }\n  return a\n};\nq.ea = function() {\n  bb(this);\n  return this.j.concat()\n};\nq.ca = function(a) {\n  return H(this.M, a)\n};\nq.remove = function(a) {\n  return H(this.M, a) ? (delete this.M[a], this.e--, this.j.length > 2 * this.e && bb(this), j) : o\n};\nfunction bb(a) {\n  if(a.e != a.j.length) {\n    for(var b = 0, c = 0;b < a.j.length;) {\n      var d = a.j[b];\n      H(a.M, d) && (a.j[c++] = d);\n      b++\n    }\n    a.j.length = c\n  }\n  if(a.e != a.j.length) {\n    for(var e = {}, c = b = 0;b < a.j.length;) {\n      d = a.j[b], H(e, d) || (a.j[c++] = d, e[d] = 1), b++\n    }\n    a.j.length = c\n  }\n}\nq.get = function(a, b) {\n  return H(this.M, a) ? this.M[a] : b\n};\nq.set = function(a, b) {\n  H(this.M, a) || (this.e++, this.j.push(a));\n  this.M[a] = b\n};\nq.l = function() {\n  return new ab(this)\n};\nfunction H(a, b) {\n  return Object.prototype.hasOwnProperty.call(a, b)\n}\n;function I(a, b) {\n  var c;\n  if(a instanceof I) {\n    this.A = b !== h ? b : a.A, cb(this, a.ia), c = a.Ra, J(this), this.Ra = c, db(this, a.da), eb(this, a.ua), fb(this, a.H), gb(this, a.O.l()), c = a.Ga, J(this), this.Ga = c\n  }else {\n    if(a && (c = (\"\" + a).match(Qa))) {\n      this.A = !!b;\n      cb(this, c[1] || \"\", j);\n      var d = c[2] || \"\";\n      J(this);\n      this.Ra = d ? decodeURIComponent(d) : \"\";\n      db(this, c[3] || \"\", j);\n      eb(this, c[4]);\n      fb(this, c[5] || \"\", j);\n      gb(this, c[6] || \"\", j);\n      c = c[7] || \"\";\n      J(this);\n      this.Ga = c ? decodeURIComponent(c) : \"\"\n    }else {\n      this.A = !!b, this.O = new hb(k, 0, this.A)\n    }\n  }\n}\nq = I.prototype;\nq.ia = \"\";\nq.Ra = \"\";\nq.da = \"\";\nq.ua = k;\nq.H = \"\";\nq.Ga = \"\";\nq.Zb = o;\nq.A = o;\nq.toString = function() {\n  var a = [], b = this.ia;\n  b && a.push(ib(b, jb), \":\");\n  if(b = this.da) {\n    a.push(\"//\");\n    var c = this.Ra;\n    c && a.push(ib(c, jb), \"@\");\n    a.push(encodeURIComponent(\"\" + b));\n    b = this.ua;\n    b != k && a.push(\":\", \"\" + b)\n  }\n  if(b = this.H) {\n    this.da && \"/\" != b.charAt(0) && a.push(\"/\"), a.push(ib(b, \"/\" == b.charAt(0) ? kb : lb))\n  }\n  (b = this.O.toString()) && a.push(\"?\", b);\n  (b = this.Ga) && a.push(\"#\", ib(b, mb));\n  return a.join(\"\")\n};\nq.l = function() {\n  return new I(this)\n};\nfunction cb(a, b, c) {\n  J(a);\n  a.ia = c ? b ? decodeURIComponent(b) : \"\" : b;\n  a.ia && (a.ia = a.ia.replace(/:$/, \"\"))\n}\nfunction db(a, b, c) {\n  J(a);\n  a.da = c ? b ? decodeURIComponent(b) : \"\" : b\n}\nfunction eb(a, b) {\n  J(a);\n  b ? (b = Number(b), (isNaN(b) || 0 > b) && g(Error(\"Bad port number \" + b)), a.ua = b) : a.ua = k\n}\nfunction fb(a, b, c) {\n  J(a);\n  a.H = c ? b ? decodeURIComponent(b) : \"\" : b\n}\nfunction gb(a, b, c) {\n  J(a);\n  b instanceof hb ? (a.O = b, a.O.ib(a.A)) : (c || (b = ib(b, nb)), a.O = new hb(b, 0, a.A))\n}\nfunction K(a, b, c) {\n  J(a);\n  a.O.set(b, c)\n}\nfunction ob(a, b, c) {\n  J(a);\n  t(c) || (c = [\"\" + c]);\n  pb(a.O, b, c)\n}\nfunction L(a) {\n  J(a);\n  K(a, \"zx\", Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ x()).toString(36));\n  return a\n}\nfunction J(a) {\n  a.Zb && g(Error(\"Tried to modify a read-only Uri\"))\n}\nq.ib = function(a) {\n  this.A = a;\n  this.O && this.O.ib(a);\n  return this\n};\nfunction qb(a, b, c, d) {\n  var e = new I(k, h);\n  a && cb(e, a);\n  b && db(e, b);\n  c && eb(e, c);\n  d && fb(e, d);\n  return e\n}\nfunction ib(a, b) {\n  return v(a) ? encodeURI(a).replace(b, rb) : k\n}\nfunction rb(a) {\n  a = a.charCodeAt(0);\n  return\"%\" + (a >> 4 & 15).toString(16) + (a & 15).toString(16)\n}\nvar jb = /[#\\/\\?@]/g, lb = /[\\#\\?:]/g, kb = /[\\#\\?]/g, nb = /[\\#\\?@]/g, mb = /#/g;\nfunction hb(a, b, c) {\n  this.z = a || k;\n  this.A = !!c\n}\nfunction M(a) {\n  if(!a.i && (a.i = new ab, a.e = 0, a.z)) {\n    for(var b = a.z.split(\"&\"), c = 0;c < b.length;c++) {\n      var d = b[c].indexOf(\"=\"), e = k, f = k;\n      0 <= d ? (e = b[c].substring(0, d), f = b[c].substring(d + 1)) : e = b[c];\n      e = decodeURIComponent(e.replace(/\\+/g, \" \"));\n      e = N(a, e);\n      a.add(e, f ? decodeURIComponent(f.replace(/\\+/g, \" \")) : \"\")\n    }\n  }\n}\nq = hb.prototype;\nq.i = k;\nq.e = k;\nq.add = function(a, b) {\n  M(this);\n  this.z = k;\n  var a = N(this, a), c = this.i.get(a);\n  c || this.i.set(a, c = []);\n  c.push(b);\n  this.e++;\n  return this\n};\nq.remove = function(a) {\n  M(this);\n  a = N(this, a);\n  return this.i.ca(a) ? (this.z = k, this.e -= this.i.get(a).length, this.i.remove(a)) : o\n};\nq.ca = function(a) {\n  M(this);\n  a = N(this, a);\n  return this.i.ca(a)\n};\nq.ea = function() {\n  M(this);\n  for(var a = this.i.K(), b = this.i.ea(), c = [], d = 0;d < b.length;d++) {\n    for(var e = a[d], f = 0;f < e.length;f++) {\n      c.push(b[d])\n    }\n  }\n  return c\n};\nq.K = function(a) {\n  M(this);\n  var b = [];\n  if(a) {\n    this.ca(a) && (b = Ya(b, this.i.get(N(this, a))))\n  }else {\n    for(var a = this.i.K(), c = 0;c < a.length;c++) {\n      b = Ya(b, a[c])\n    }\n  }\n  return b\n};\nq.set = function(a, b) {\n  M(this);\n  this.z = k;\n  a = N(this, a);\n  this.ca(a) && (this.e -= this.i.get(a).length);\n  this.i.set(a, [b]);\n  this.e++;\n  return this\n};\nq.get = function(a, b) {\n  var c = a ? this.K(a) : [];\n  return 0 < c.length ? c[0] : b\n};\nfunction pb(a, b, c) {\n  a.remove(b);\n  0 < c.length && (a.z = k, a.i.set(N(a, b), Za(c)), a.e += c.length)\n}\nq.toString = function() {\n  if(this.z) {\n    return this.z\n  }\n  if(!this.i) {\n    return\"\"\n  }\n  for(var a = [], b = this.i.ea(), c = 0;c < b.length;c++) {\n    for(var d = b[c], e = encodeURIComponent(\"\" + d), d = this.K(d), f = 0;f < d.length;f++) {\n      var i = e;\n      \"\" !== d[f] && (i += \"=\" + encodeURIComponent(\"\" + d[f]));\n      a.push(i)\n    }\n  }\n  return this.z = a.join(\"&\")\n};\nq.l = function() {\n  var a = new hb;\n  a.z = this.z;\n  this.i && (a.i = this.i.l());\n  return a\n};\nfunction N(a, b) {\n  var c = \"\" + b;\n  a.A && (c = c.toLowerCase());\n  return c\n}\nq.ib = function(a) {\n  a && !this.A && (M(this), this.z = k, G(this.i, function(a, c) {\n    var d = c.toLowerCase();\n    c != d && (this.remove(c), pb(this, d, a))\n  }, this));\n  this.A = a\n};\nfunction sb() {\n}\nsb.prototype.Aa = k;\nvar tb;\nfunction ub() {\n}\ny(ub, sb);\nfunction vb(a) {\n  return(a = wb(a)) ? new ActiveXObject(a) : new XMLHttpRequest\n}\nfunction xb(a) {\n  var b = {};\n  wb(a) && (b[0] = j, b[1] = j);\n  return b\n}\nub.prototype.bb = k;\nfunction wb(a) {\n  if(!a.bb && \"undefined\" == typeof XMLHttpRequest && \"undefined\" != typeof ActiveXObject) {\n    for(var b = [\"MSXML2.XMLHTTP.6.0\", \"MSXML2.XMLHTTP.3.0\", \"MSXML2.XMLHTTP\", \"Microsoft.XMLHTTP\"], c = 0;c < b.length;c++) {\n      var d = b[c];\n      try {\n        return new ActiveXObject(d), a.bb = d\n      }catch(e) {\n      }\n    }\n    g(Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\"))\n  }\n  return a.bb\n}\ntb = new ub;\nfunction yb() {\n}\nvar zb = 0;\nq = yb.prototype;\nq.key = 0;\nq.ha = o;\nq.nb = o;\nq.Ia = function(a, b, c, d, e, f) {\n  \"function\" == ga(a) ? this.zb = j : a && a.handleEvent && \"function\" == ga(a.handleEvent) ? this.zb = o : g(Error(\"Invalid listener argument\"));\n  this.sa = a;\n  this.Kb = b;\n  this.src = c;\n  this.type = d;\n  this.capture = !!e;\n  this.ab = f;\n  this.nb = o;\n  this.key = ++zb;\n  this.ha = o\n};\nq.handleEvent = function(a) {\n  return this.zb ? this.sa.call(this.ab || this.src, a) : this.sa.handleEvent.call(this.sa, a)\n};\n!A || Ma(9);\nvar Ab = !A || Ma(9), Bb = A && !C(\"8\");\n!B || C(\"528\");\nCa && C(\"1.9b\") || A && C(\"8\") || Ba && C(\"9.5\") || B && C(\"528\");\nCa && !C(\"8\") || A && C(\"9\");\nfunction Cb() {\n}\nCb.prototype.tb = o;\nCb.prototype.Ba = function() {\n  this.tb || (this.tb = j, this.w())\n};\nCb.prototype.w = function() {\n  this.Ub && Db.apply(k, this.Ub);\n  if(this.Eb) {\n    for(;this.Eb.length;) {\n      this.Eb.shift()()\n    }\n  }\n};\nfunction Db(a) {\n  for(var b = 0, c = arguments.length;b < c;++b) {\n    var d = arguments[b];\n    ha(d) ? Db.apply(k, d) : d && \"function\" == typeof d.Ba && d.Ba()\n  }\n}\n;function O(a, b) {\n  this.type = a;\n  this.currentTarget = this.target = b\n}\ny(O, Cb);\nq = O.prototype;\nq.w = function() {\n  delete this.type;\n  delete this.target;\n  delete this.currentTarget\n};\nq.ga = o;\nq.defaultPrevented = o;\nq.Oa = j;\nq.preventDefault = function() {\n  this.defaultPrevented = j;\n  this.Oa = o\n};\nfunction Eb(a) {\n  Eb[\" \"](a);\n  return a\n}\nEb[\" \"] = fa;\nfunction Fb(a, b) {\n  a && this.Ia(a, b)\n}\ny(Fb, O);\nq = Fb.prototype;\nq.target = k;\nq.relatedTarget = k;\nq.offsetX = 0;\nq.offsetY = 0;\nq.clientX = 0;\nq.clientY = 0;\nq.screenX = 0;\nq.screenY = 0;\nq.button = 0;\nq.keyCode = 0;\nq.charCode = 0;\nq.ctrlKey = o;\nq.altKey = o;\nq.shiftKey = o;\nq.metaKey = o;\nq.$a = k;\nq.Ia = function(a, b) {\n  var c = this.type = a.type;\n  O.call(this, c);\n  this.target = a.target || a.srcElement;\n  this.currentTarget = b;\n  var d = a.relatedTarget;\n  if(d) {\n    if(Ca) {\n      var e;\n      a: {\n        try {\n          Eb(d.nodeName);\n          e = j;\n          break a\n        }catch(f) {\n        }\n        e = o\n      }\n      e || (d = k)\n    }\n  }else {\n    \"mouseover\" == c ? d = a.fromElement : \"mouseout\" == c && (d = a.toElement)\n  }\n  this.relatedTarget = d;\n  this.offsetX = B || a.offsetX !== h ? a.offsetX : a.layerX;\n  this.offsetY = B || a.offsetY !== h ? a.offsetY : a.layerY;\n  this.clientX = a.clientX !== h ? a.clientX : a.pageX;\n  this.clientY = a.clientY !== h ? a.clientY : a.pageY;\n  this.screenX = a.screenX || 0;\n  this.screenY = a.screenY || 0;\n  this.button = a.button;\n  this.keyCode = a.keyCode || 0;\n  this.charCode = a.charCode || (\"keypress\" == c ? a.keyCode : 0);\n  this.ctrlKey = a.ctrlKey;\n  this.altKey = a.altKey;\n  this.shiftKey = a.shiftKey;\n  this.metaKey = a.metaKey;\n  this.state = a.state;\n  this.$a = a;\n  a.defaultPrevented && this.preventDefault();\n  delete this.ga\n};\nq.preventDefault = function() {\n  Fb.ja.preventDefault.call(this);\n  var a = this.$a;\n  if(a.preventDefault) {\n    a.preventDefault()\n  }else {\n    if(a.returnValue = o, Bb) {\n      try {\n        if(a.ctrlKey || 112 <= a.keyCode && 123 >= a.keyCode) {\n          a.keyCode = -1\n        }\n      }catch(b) {\n      }\n    }\n  }\n};\nq.w = function() {\n  Fb.ja.w.call(this);\n  this.relatedTarget = this.currentTarget = this.target = this.$a = k\n};\nvar Gb = {}, P = {}, E = {}, Hb = {};\nfunction Ib(a, b, c, d, e) {\n  if(b) {\n    if(t(b)) {\n      for(var f = 0;f < b.length;f++) {\n        Ib(a, b[f], c, d, e)\n      }\n      return k\n    }\n    var d = !!d, i = P;\n    b in i || (i[b] = {e:0, B:0});\n    i = i[b];\n    d in i || (i[d] = {e:0, B:0}, i.e++);\n    var i = i[d], m = ia(a), l;\n    i.B++;\n    if(i[m]) {\n      l = i[m];\n      for(f = 0;f < l.length;f++) {\n        if(i = l[f], i.sa == c && i.ab == e) {\n          if(i.ha) {\n            break\n          }\n          return l[f].key\n        }\n      }\n    }else {\n      l = i[m] = [], i.e++\n    }\n    f = Jb();\n    f.src = a;\n    i = new yb;\n    i.Ia(c, f, a, b, d, e);\n    c = i.key;\n    f.key = c;\n    l.push(i);\n    Gb[c] = i;\n    E[m] || (E[m] = []);\n    E[m].push(i);\n    a.addEventListener ? (a == r || !a.qb) && a.addEventListener(b, f, d) : a.attachEvent(b in Hb ? Hb[b] : Hb[b] = \"on\" + b, f);\n    return c\n  }\n  g(Error(\"Invalid event type\"))\n}\nfunction Jb() {\n  var a = Kb, b = Ab ? function(c) {\n    return a.call(b.src, b.key, c)\n  } : function(c) {\n    c = a.call(b.src, b.key, c);\n    if(!c) {\n      return c\n    }\n  };\n  return b\n}\nfunction Lb(a, b, c, d, e) {\n  if(t(b)) {\n    for(var f = 0;f < b.length;f++) {\n      Lb(a, b[f], c, d, e)\n    }\n  }else {\n    d = !!d;\n    a: {\n      f = P;\n      if(b in f && (f = f[b], d in f && (f = f[d], a = ia(a), f[a]))) {\n        a = f[a];\n        break a\n      }\n      a = k\n    }\n    if(a) {\n      for(f = 0;f < a.length;f++) {\n        if(a[f].sa == c && a[f].capture == d && a[f].ab == e) {\n          Mb(a[f].key);\n          break\n        }\n      }\n    }\n  }\n}\nfunction Mb(a) {\n  if(!Gb[a]) {\n    return o\n  }\n  var b = Gb[a];\n  if(b.ha) {\n    return o\n  }\n  var c = b.src, d = b.type, e = b.Kb, f = b.capture;\n  c.removeEventListener ? (c == r || !c.qb) && c.removeEventListener(d, e, f) : c.detachEvent && c.detachEvent(d in Hb ? Hb[d] : Hb[d] = \"on\" + d, e);\n  c = ia(c);\n  e = P[d][f][c];\n  if(E[c]) {\n    var i = E[c], m = Wa(i, b);\n    0 <= m && F.splice.call(i, m, 1);\n    0 == i.length && delete E[c]\n  }\n  b.ha = j;\n  e.Db = j;\n  Nb(d, f, c, e);\n  delete Gb[a];\n  return j\n}\nfunction Nb(a, b, c, d) {\n  if(!d.Ja && d.Db) {\n    for(var e = 0, f = 0;e < d.length;e++) {\n      d[e].ha ? d[e].Kb.src = k : (e != f && (d[f] = d[e]), f++)\n    }\n    d.length = f;\n    d.Db = o;\n    0 == f && (delete P[a][b][c], P[a][b].e--, 0 == P[a][b].e && (delete P[a][b], P[a].e--), 0 == P[a].e && delete P[a])\n  }\n}\nfunction Ob(a) {\n  var b, c = 0, d = b == k;\n  b = !!b;\n  if(a == k) {\n    Ra(function(a) {\n      for(var e = a.length - 1;0 <= e;e--) {\n        var f = a[e];\n        if(d || b == f.capture) {\n          Mb(f.key), c++\n        }\n      }\n    })\n  }else {\n    if(a = ia(a), E[a]) {\n      for(var a = E[a], e = a.length - 1;0 <= e;e--) {\n        var f = a[e];\n        if(d || b == f.capture) {\n          Mb(f.key), c++\n        }\n      }\n    }\n  }\n}\nfunction Pb(a, b, c, d, e) {\n  var f = 1, b = ia(b);\n  if(a[b]) {\n    a.B--;\n    a = a[b];\n    a.Ja ? a.Ja++ : a.Ja = 1;\n    try {\n      for(var i = a.length, m = 0;m < i;m++) {\n        var l = a[m];\n        l && !l.ha && (f &= Qb(l, e) !== o)\n      }\n    }finally {\n      a.Ja--, Nb(c, d, b, a)\n    }\n  }\n  return Boolean(f)\n}\nfunction Qb(a, b) {\n  a.nb && Mb(a.key);\n  return a.handleEvent(b)\n}\nfunction Kb(a, b) {\n  if(!Gb[a]) {\n    return j\n  }\n  var c = Gb[a], d = c.type, e = P;\n  if(!(d in e)) {\n    return j\n  }\n  var e = e[d], f, i;\n  if(!Ab) {\n    f = b || ea(\"window.event\");\n    var m = j in e, l = o in e;\n    if(m) {\n      if(0 > f.keyCode || f.returnValue != h) {\n        return j\n      }\n      a: {\n        var n = o;\n        if(0 == f.keyCode) {\n          try {\n            f.keyCode = -1;\n            break a\n          }catch(s) {\n            n = j\n          }\n        }\n        if(n || f.returnValue == h) {\n          f.returnValue = j\n        }\n      }\n    }\n    n = new Fb;\n    n.Ia(f, this);\n    f = j;\n    try {\n      if(m) {\n        for(var u = [], ua = n.currentTarget;ua;ua = ua.parentNode) {\n          u.push(ua)\n        }\n        i = e[j];\n        i.B = i.e;\n        for(var D = u.length - 1;!n.ga && 0 <= D && i.B;D--) {\n          n.currentTarget = u[D], f &= Pb(i, u[D], d, j, n)\n        }\n        if(l) {\n          i = e[o];\n          i.B = i.e;\n          for(D = 0;!n.ga && D < u.length && i.B;D++) {\n            n.currentTarget = u[D], f &= Pb(i, u[D], d, o, n)\n          }\n        }\n      }else {\n        f = Qb(c, n)\n      }\n    }finally {\n      u && (u.length = 0), n.Ba()\n    }\n    return f\n  }\n  d = new Fb(b, this);\n  try {\n    f = Qb(c, d)\n  }finally {\n    d.Ba()\n  }\n  return f\n}\n;function Rb() {\n}\ny(Rb, Cb);\nq = Rb.prototype;\nq.qb = j;\nq.hb = k;\nq.addEventListener = function(a, b, c, d) {\n  Ib(this, a, b, c, d)\n};\nq.removeEventListener = function(a, b, c, d) {\n  Lb(this, a, b, c, d)\n};\nq.dispatchEvent = function(a) {\n  var b = a.type || a, c = P;\n  if(b in c) {\n    if(v(a)) {\n      a = new O(a, this)\n    }else {\n      if(a instanceof O) {\n        a.target = a.target || this\n      }else {\n        var d = a, a = new O(b, this);\n        Va(a, d)\n      }\n    }\n    var d = 1, e, c = c[b], b = j in c, f;\n    if(b) {\n      e = [];\n      for(f = this;f;f = f.hb) {\n        e.push(f)\n      }\n      f = c[j];\n      f.B = f.e;\n      for(var i = e.length - 1;!a.ga && 0 <= i && f.B;i--) {\n        a.currentTarget = e[i], d &= Pb(f, e[i], a.type, j, a) && a.Oa != o\n      }\n    }\n    if(o in c) {\n      if(f = c[o], f.B = f.e, b) {\n        for(i = 0;!a.ga && i < e.length && f.B;i++) {\n          a.currentTarget = e[i], d &= Pb(f, e[i], a.type, o, a) && a.Oa != o\n        }\n      }else {\n        for(e = this;!a.ga && e && f.B;e = e.hb) {\n          a.currentTarget = e, d &= Pb(f, e, a.type, o, a) && a.Oa != o\n        }\n      }\n    }\n    a = Boolean(d)\n  }else {\n    a = j\n  }\n  return a\n};\nq.w = function() {\n  Rb.ja.w.call(this);\n  Ob(this);\n  this.hb = k\n};\nfunction Sb(a, b) {\n  this.pa = a || 1;\n  this.ya = b || Tb;\n  this.Va = w(this.kc, this);\n  this.gb = x()\n}\ny(Sb, Rb);\nSb.prototype.enabled = o;\nvar Tb = r.window;\nq = Sb.prototype;\nq.P = k;\nq.setInterval = function(a) {\n  this.pa = a;\n  this.P && this.enabled ? (this.stop(), this.start()) : this.P && this.stop()\n};\nq.kc = function() {\n  if(this.enabled) {\n    var a = x() - this.gb;\n    0 < a && a < 0.8 * this.pa ? this.P = this.ya.setTimeout(this.Va, this.pa - a) : (this.dispatchEvent(Ub), this.enabled && (this.P = this.ya.setTimeout(this.Va, this.pa), this.gb = x()))\n  }\n};\nq.start = function() {\n  this.enabled = j;\n  this.P || (this.P = this.ya.setTimeout(this.Va, this.pa), this.gb = x())\n};\nq.stop = function() {\n  this.enabled = o;\n  this.P && (this.ya.clearTimeout(this.P), this.P = k)\n};\nq.w = function() {\n  Sb.ja.w.call(this);\n  this.stop();\n  delete this.ya\n};\nvar Ub = \"tick\";\nfunction Vb(a) {\n  this.c = a;\n  this.j = []\n}\ny(Vb, Cb);\nvar Wb = [];\nfunction Xb(a, b, c, d, e, f) {\n  t(c) || (Wb[0] = c, c = Wb);\n  for(var i = 0;i < c.length;i++) {\n    a.j.push(Ib(b, c[i], d || a, e || o, f || a.c || a))\n  }\n}\nVb.prototype.w = function() {\n  Vb.ja.w.call(this);\n  Xa(this.j, Mb);\n  this.j.length = 0\n};\nVb.prototype.handleEvent = function() {\n  g(Error(\"EventHandler.handleEvent not implemented\"))\n};\nfunction Q(a, b, c, d, e, f) {\n  this.g = a;\n  this.a = b;\n  this.U = c;\n  this.C = d;\n  this.wa = e || 1;\n  this.xa = Yb;\n  this.Ca = new Vb(this);\n  this.u = f || k;\n  this.La = new Sb;\n  this.La.setInterval(Zb)\n}\nq = Q.prototype;\nq.t = k;\nq.F = o;\nq.ma = k;\nq.kb = k;\nq.va = k;\nq.R = k;\nq.s = k;\nq.S = k;\nq.q = k;\nq.za = 0;\nq.I = k;\nq.ka = k;\nq.o = k;\nq.h = -1;\nq.Nb = j;\nq.aa = o;\nvar Yb = 45E3, Zb = 250;\nfunction $b(a, b) {\n  switch(a) {\n    case 0:\n      return\"Non-200 return code (\" + b + \")\";\n    case 1:\n      return\"XMLHTTP failure (no data)\";\n    case 2:\n      return\"HttpConnection timeout\";\n    default:\n      return\"Unknown error\"\n  }\n}\nvar ac = {}, bc = {};\nfunction cc() {\n  return!A || Ma(10)\n}\nq = Q.prototype;\nq.T = p(\"t\");\nq.setTimeout = p(\"xa\");\nfunction dc(a, b, c) {\n  a.R = L(b.l());\n  a.S = c;\n  a.rb = j;\n  ec(a, k)\n}\nfunction fc(a, b, c, d, e) {\n  a.R = L(b.l());\n  a.S = k;\n  a.rb = c;\n  e && (a.Nb = o);\n  ec(a, d)\n}\nfunction ec(a, b) {\n  a.va = x();\n  gc(a);\n  a.s = a.R.l();\n  ob(a.s, \"t\", a.wa);\n  if(hc(a)) {\n    a.za = 0;\n    a.q = a.g.Ya(a.g.Pa() ? b : k);\n    Xb(a.Ca, a.q, \"readystatechange\", a.lc, o, a);\n    var c;\n    if(a.t) {\n      c = a.t;\n      var d = {}, e;\n      for(e in c) {\n        d[e] = c[e]\n      }\n      c = d\n    }else {\n      c = {}\n    }\n    a.S ? (a.ka = \"POST\", c[\"Content-Type\"] = \"application/x-www-form-urlencoded\", a.q.send(a.s, a.ka, a.S, c)) : (a.ka = \"GET\", a.Nb && !B && (c.Connection = \"close\"), a.q.send(a.s, a.ka, k, c));\n    if(d = a.S) {\n      c = \"\";\n      d = d.split(\"&\");\n      for(e = 0;e < d.length;e++) {\n        var f = d[e].split(\"=\");\n        if(1 < f.length) {\n          var i = f[0], f = f[1], m = i.split(\"_\");\n          c = 2 <= m.length && \"type\" == m[1] ? c + (i + \"=\" + f + \"&\") : c + (i + \"=redacted&\")\n        }\n      }\n    }else {\n      c = k\n    }\n    a.a.info(\"XMLHTTP REQ (\" + a.C + \") [attempt \" + a.wa + \"]: \" + a.ka + \"\\n\" + a.s + \"\\n\" + c)\n  }\n}\nq.lc = function(a) {\n  a = a.target;\n  try {\n    if(a == this.q) {\n      a: {\n        var b = R(this.q);\n        if(!cc() || B && !C(\"420+\")) {\n          if(4 > b) {\n            break a\n          }\n        }else {\n          if(3 > b || 3 == b && !Ba && !ic(this.q)) {\n            break a\n          }\n        }\n        jc(this);\n        var c = kc(this.q);\n        this.h = c;\n        var d = ic(this.q);\n        d || this.a.debug(\"No response text for uri \" + this.s + \" status \" + c);\n        this.F = 200 == c;\n        this.a.info(\"XMLHTTP RESP (\" + this.C + \") [ attempt \" + this.wa + \"]: \" + this.ka + \"\\n\" + this.s + \"\\n\" + b + \" \" + c);\n        if(this.F) {\n          if(4 == b && S(this), this.rb ? (lc(this, b, d), Ba && 3 == b && (Xb(this.Ca, this.La, Ub, this.ic), this.La.start())) : (mc(this.a, this.C, d, k), nc(this, d)), this.F && !this.aa) {\n            4 == b ? this.g.fa(this) : (this.F = o, gc(this))\n          }\n        }else {\n          this.o = 400 == c && 0 < d.indexOf(\"Unknown SID\") ? 3 : 0, T(), mc(this.a, this.C, d), S(this), oc(this)\n        }\n      }\n    }else {\n      this.a.la(\"Called back with an unexpected xmlhttp\")\n    }\n  }catch(e) {\n    this.a.debug(\"Failed call to OnXmlHttpReadyStateChanged_\"), this.q && ic(this.q) ? pc(this.a, e, \"ResponseText: \" + ic(this.q)) : pc(this.a, e, \"No response text\")\n  }finally {\n  }\n};\nfunction lc(a, b, c) {\n  for(var d = j;!a.aa && a.za < c.length;) {\n    var e = qc(a, c);\n    if(e == bc) {\n      4 == b && (a.o = 4, T(), d = o);\n      mc(a.a, a.C, k, \"[Incomplete Response]\");\n      break\n    }else {\n      if(e == ac) {\n        a.o = 4;\n        T();\n        mc(a.a, a.C, c, \"[Invalid Chunk]\");\n        d = o;\n        break\n      }else {\n        mc(a.a, a.C, e, k), nc(a, e)\n      }\n    }\n  }\n  4 == b && 0 == c.length && (a.o = 1, T(), d = o);\n  a.F = a.F && d;\n  d || (mc(a.a, a.C, c, \"[Invalid Chunked Response]\"), S(a), oc(a))\n}\nq.ic = function() {\n  var a = R(this.q), b = ic(this.q);\n  this.za < b.length && (jc(this), lc(this, a, b), this.F && 4 != a && gc(this))\n};\nfunction hc(a) {\n  if(!a.u) {\n    return j\n  }\n  if(a.u.Yb()) {\n    return Xb(a.Ca, a.u, \"offline\", a.ob), j\n  }\n  a.ob();\n  return o\n}\nq.ob = function() {\n  this.F && this.a.D(\"Received browser offline event even though request completed successfully\");\n  this.a.info(\"BROWSER_OFFLINE: \" + this.s);\n  S(this);\n  this.o = 6;\n  T();\n  oc(this)\n};\nfunction qc(a, b) {\n  var c = a.za, d = b.indexOf(\"\\n\", c);\n  if(-1 == d) {\n    return bc\n  }\n  c = Number(b.substring(c, d));\n  if(isNaN(c)) {\n    return ac\n  }\n  d += 1;\n  if(d + c > b.length) {\n    return bc\n  }\n  var e = b.substr(d, c);\n  a.za = d + c;\n  return e\n}\nfunction rc(a, b) {\n  a.va = x();\n  gc(a);\n  var c = b ? window.location.hostname : \"\";\n  a.s = a.R.l();\n  K(a.s, \"DOMAIN\", c);\n  K(a.s, \"t\", a.wa);\n  if(hc(a)) {\n    try {\n      a.I = new ActiveXObject(\"htmlfile\")\n    }catch(d) {\n      a.a.D(\"ActiveX blocked\");\n      S(a);\n      a.o = 7;\n      T();\n      oc(a);\n      return\n    }\n    var e = \"<html><body>\";\n    b && (e += '<script>document.domain=\"' + c + '\"<\\/script>');\n    e += \"</body></html>\";\n    a.I.open();\n    a.I.write(e);\n    a.I.close();\n    a.I.parentWindow.m = w(a.gc, a);\n    a.I.parentWindow.d = w(a.Jb, a, j);\n    a.I.parentWindow.rpcClose = w(a.Jb, a, o);\n    c = a.I.createElement(\"div\");\n    a.I.parentWindow.document.body.appendChild(c);\n    c.innerHTML = '<iframe src=\"' + a.s + '\"></iframe>';\n    a.a.info(\"TRIDENT REQ (\" + a.C + \") [ attempt \" + a.wa + \"]: GET\\n\" + a.s)\n  }\n}\nq.gc = function(a) {\n  U(w(this.fc, this, a), 0)\n};\nq.fc = function(a) {\n  if(!this.aa) {\n    var b = this.a;\n    b.info(\"TRIDENT TEXT (\" + this.C + \"): \" + sc(b, a));\n    jc(this);\n    nc(this, a);\n    gc(this)\n  }\n};\nq.Jb = function(a) {\n  U(w(this.ec, this, a), 0)\n};\nq.ec = function(a) {\n  this.aa || (this.a.info(\"TRIDENT TEXT (\" + this.C + \"): \" + a ? \"success\" : \"failure\"), S(this), this.F = a, this.g.fa(this))\n};\nq.Xb = function() {\n  jc(this);\n  this.g.fa(this)\n};\nq.cancel = function() {\n  this.aa = j;\n  S(this)\n};\nfunction gc(a) {\n  a.kb = x() + a.xa;\n  tc(a, a.xa)\n}\nfunction tc(a, b) {\n  a.ma != k && g(Error(\"WatchDog timer not null\"));\n  a.ma = U(w(a.hc, a), b)\n}\nfunction jc(a) {\n  a.ma && (r.clearTimeout(a.ma), a.ma = k)\n}\nq.hc = function() {\n  this.ma = k;\n  var a = x();\n  0 <= a - this.kb ? (this.F && this.a.D(\"Received watchdog timeout even though request loaded successfully\"), this.a.info(\"TIMEOUT: \" + this.s), S(this), this.o = 2, T(), oc(this)) : (this.a.la(\"WatchDog timer called too early\"), tc(this, this.kb - a))\n};\nfunction oc(a) {\n  !a.g.yb() && !a.aa && a.g.fa(a)\n}\nfunction S(a) {\n  jc(a);\n  a.La.stop();\n  var b = a.Ca;\n  Xa(b.j, Mb);\n  b.j.length = 0;\n  a.q && (b = a.q, a.q = k, b.abort());\n  a.I && (a.I = k);\n  a.u = k\n}\nq.wb = ba(\"o\");\nfunction nc(a, b) {\n  try {\n    a.g.Gb(a, b)\n  }catch(c) {\n    pc(a.a, c, \"Error in httprequest callback\")\n  }\n}\n;function uc(a) {\n  return eval(\"(\" + a + \")\")\n}\nfunction vc(a) {\n  var b = [];\n  wc(new xc, a, b);\n  return b.join(\"\")\n}\nfunction xc() {\n  this.Na = h\n}\nfunction wc(a, b, c) {\n  switch(typeof b) {\n    case \"string\":\n      yc(b, c);\n      break;\n    case \"number\":\n      c.push(isFinite(b) && !isNaN(b) ? b : \"null\");\n      break;\n    case \"boolean\":\n      c.push(b);\n      break;\n    case \"undefined\":\n      c.push(\"null\");\n      break;\n    case \"object\":\n      if(b == k) {\n        c.push(\"null\");\n        break\n      }\n      if(t(b)) {\n        var d = b.length;\n        c.push(\"[\");\n        for(var e = \"\", f = 0;f < d;f++) {\n          c.push(e), e = b[f], wc(a, a.Na ? a.Na.call(b, \"\" + f, e) : e, c), e = \",\"\n        }\n        c.push(\"]\");\n        break\n      }\n      c.push(\"{\");\n      d = \"\";\n      for(f in b) {\n        Object.prototype.hasOwnProperty.call(b, f) && (e = b[f], \"function\" != typeof e && (c.push(d), yc(f, c), c.push(\":\"), wc(a, a.Na ? a.Na.call(b, f, e) : e, c), d = \",\"))\n      }\n      c.push(\"}\");\n      break;\n    case \"function\":\n      break;\n    default:\n      g(Error(\"Unknown type: \" + typeof b))\n  }\n}\nvar zc = {'\"':'\\\\\"', \"\\\\\":\"\\\\\\\\\", \"/\":\"\\\\/\", \"\\u0008\":\"\\\\b\", \"\\u000c\":\"\\\\f\", \"\\n\":\"\\\\n\", \"\\r\":\"\\\\r\", \"\\t\":\"\\\\t\", \"\\x0B\":\"\\\\u000b\"}, Ac = /\\uffff/.test(\"\\uffff\") ? /[\\\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g : /[\\\\\\\"\\x00-\\x1f\\x7f-\\xff]/g;\nfunction yc(a, b) {\n  b.push('\"', a.replace(Ac, function(a) {\n    if(a in zc) {\n      return zc[a]\n    }\n    var b = a.charCodeAt(0), e = \"\\\\u\";\n    16 > b ? e += \"000\" : 256 > b ? e += \"00\" : 4096 > b && (e += \"0\");\n    return zc[a] = e + b.toString(16)\n  }), '\"')\n}\n;function Bc(a) {\n  return Cc(a || arguments.callee.caller, [])\n}\nfunction Cc(a, b) {\n  var c = [];\n  if(0 <= Wa(b, a)) {\n    c.push(\"[...circular reference...]\")\n  }else {\n    if(a && 50 > b.length) {\n      c.push(Dc(a) + \"(\");\n      for(var d = a.arguments, e = 0;e < d.length;e++) {\n        0 < e && c.push(\", \");\n        var f;\n        f = d[e];\n        switch(typeof f) {\n          case \"object\":\n            f = f ? \"object\" : \"null\";\n            break;\n          case \"string\":\n            break;\n          case \"number\":\n            f = \"\" + f;\n            break;\n          case \"boolean\":\n            f = f ? \"true\" : \"false\";\n            break;\n          case \"function\":\n            f = (f = Dc(f)) ? f : \"[fn]\";\n            break;\n          default:\n            f = typeof f\n        }\n        40 < f.length && (f = f.substr(0, 40) + \"...\");\n        c.push(f)\n      }\n      b.push(a);\n      c.push(\")\\n\");\n      try {\n        c.push(Cc(a.caller, b))\n      }catch(i) {\n        c.push(\"[exception trying to get caller]\\n\")\n      }\n    }else {\n      a ? c.push(\"[...long stack...]\") : c.push(\"[end]\")\n    }\n  }\n  return c.join(\"\")\n}\nfunction Dc(a) {\n  if(Ec[a]) {\n    return Ec[a]\n  }\n  a = \"\" + a;\n  if(!Ec[a]) {\n    var b = /function ([^\\(]+)/.exec(a);\n    Ec[a] = b ? b[1] : \"[Anonymous]\"\n  }\n  return Ec[a]\n}\nvar Ec = {};\nfunction Fc(a, b, c, d, e) {\n  this.reset(a, b, c, d, e)\n}\nFc.prototype.vb = k;\nFc.prototype.ub = k;\nvar Gc = 0;\nFc.prototype.reset = function(a, b, c, d, e) {\n  \"number\" == typeof e || Gc++;\n  d || x();\n  this.ra = a;\n  this.$b = b;\n  delete this.vb;\n  delete this.ub\n};\nFc.prototype.Ob = p(\"ra\");\nfunction V(a) {\n  this.ac = a\n}\nV.prototype.Ka = k;\nV.prototype.ra = k;\nV.prototype.Wa = k;\nV.prototype.xb = k;\nfunction Hc(a, b) {\n  this.name = a;\n  this.value = b\n}\nHc.prototype.toString = ba(\"name\");\nvar Ic = new Hc(\"SEVERE\", 1E3), Jc = new Hc(\"WARNING\", 900), Kc = new Hc(\"INFO\", 800), Lc = new Hc(\"CONFIG\", 700), Mc = new Hc(\"FINE\", 500);\nq = V.prototype;\nq.getParent = ba(\"Ka\");\nq.Ob = p(\"ra\");\nfunction Nc(a) {\n  if(a.ra) {\n    return a.ra\n  }\n  if(a.Ka) {\n    return Nc(a.Ka)\n  }\n  Pa(\"Root logger has no level set.\");\n  return k\n}\nq.log = function(a, b, c) {\n  if(a.value >= Nc(this).value) {\n    a = this.Wb(a, b, c);\n    b = \"log:\" + a.$b;\n    r.console && (r.console.timeStamp ? r.console.timeStamp(b) : r.console.markTimeline && r.console.markTimeline(b));\n    r.msWriteProfilerMark && r.msWriteProfilerMark(b);\n    for(b = this;b;) {\n      var c = b, d = a;\n      if(c.xb) {\n        for(var e = 0, f = h;f = c.xb[e];e++) {\n          f(d)\n        }\n      }\n      b = b.getParent()\n    }\n  }\n};\nq.Wb = function(a, b, c) {\n  var d = new Fc(a, \"\" + b, this.ac);\n  if(c) {\n    d.vb = c;\n    var e;\n    var f = arguments.callee.caller;\n    try {\n      var i;\n      var m = ea(\"window.location.href\");\n      if(v(c)) {\n        i = {message:c, name:\"Unknown error\", lineNumber:\"Not available\", fileName:m, stack:\"Not available\"}\n      }else {\n        var l, n, s = o;\n        try {\n          l = c.lineNumber || c.mc || \"Not available\"\n        }catch(u) {\n          l = \"Not available\", s = j\n        }\n        try {\n          n = c.fileName || c.filename || c.sourceURL || m\n        }catch(ua) {\n          n = \"Not available\", s = j\n        }\n        i = s || !c.lineNumber || !c.fileName || !c.stack ? {message:c.message, name:c.name, lineNumber:l, fileName:n, stack:c.stack || \"Not available\"} : c\n      }\n      e = \"Message: \" + oa(i.message) + '\\nUrl: <a href=\"view-source:' + i.fileName + '\" target=\"_new\">' + i.fileName + \"</a>\\nLine: \" + i.lineNumber + \"\\n\\nBrowser stack:\\n\" + oa(i.stack + \"-> \") + \"[end]\\n\\nJS stack traversal:\\n\" + oa(Bc(f) + \"-> \")\n    }catch(D) {\n      e = \"Exception trying to expose exception! You win, we lose. \" + D\n    }\n    d.ub = e\n  }\n  return d\n};\nq.D = function(a, b) {\n  this.log(Ic, a, b)\n};\nq.la = function(a, b) {\n  this.log(Jc, a, b)\n};\nq.info = function(a, b) {\n  this.log(Kc, a, b)\n};\nfunction W(a, b) {\n  a.log(Mc, b, h)\n}\nvar Oc = {}, Pc = k;\nfunction Qc(a) {\n  Pc || (Pc = new V(\"\"), Oc[\"\"] = Pc, Pc.Ob(Lc));\n  var b;\n  if(!(b = Oc[a])) {\n    b = new V(a);\n    var c = a.lastIndexOf(\".\"), d = a.substr(c + 1), c = Qc(a.substr(0, c));\n    c.Wa || (c.Wa = {});\n    c.Wa[d] = b;\n    b.Ka = c;\n    Oc[a] = b\n  }\n  return b\n}\n;function X() {\n  this.p = Qc(\"goog.net.BrowserChannel\")\n}\nfunction mc(a, b, c, d) {\n  a.info(\"XMLHTTP TEXT (\" + b + \"): \" + sc(a, c) + (d ? \" \" + d : \"\"))\n}\nX.prototype.debug = function(a) {\n  this.info(a)\n};\nfunction pc(a, b, c) {\n  a.D((c || \"Exception\") + b)\n}\nX.prototype.info = function(a) {\n  this.p.info(a)\n};\nX.prototype.la = function(a) {\n  this.p.la(a)\n};\nX.prototype.D = function(a) {\n  this.p.D(a)\n};\nfunction sc(a, b) {\n  if(!b || b == Rc) {\n    return b\n  }\n  try {\n    for(var c = uc(b), d = 0;d < c.length;d++) {\n      if(t(c[d])) {\n        var e = c[d];\n        if(!(2 > e.length)) {\n          var f = e[1];\n          if(t(f) && !(1 > f.length)) {\n            var i = f[0];\n            if(\"noop\" != i && \"stop\" != i) {\n              for(var m = 1;m < f.length;m++) {\n                f[m] = \"\"\n              }\n            }\n          }\n        }\n      }\n    }\n    return vc(c)\n  }catch(l) {\n    return a.debug(\"Exception parsing expected JS array - probably was not JS\"), b\n  }\n}\n;function Sc(a) {\n  this.headers = new ab;\n  this.na = a || k\n}\ny(Sc, Rb);\nSc.prototype.p = Qc(\"goog.net.XhrIo\");\nvar Tc = /^https?$/i;\nq = Sc.prototype;\nq.Q = o;\nq.f = k;\nq.Sa = k;\nq.fb = \"\";\nq.Ab = \"\";\nq.o = \"\";\nq.Za = o;\nq.Ha = o;\nq.cb = o;\nq.Y = o;\nq.Qa = 0;\nq.Z = k;\nq.Mb = \"\";\nq.Qb = o;\nq.send = function(a, b, c, d) {\n  this.f && g(Error(\"[goog.net.XhrIo] Object is active with another request\"));\n  b = b ? b.toUpperCase() : \"GET\";\n  this.fb = a;\n  this.o = \"\";\n  this.Ab = b;\n  this.Za = o;\n  this.Q = j;\n  this.f = this.na ? vb(this.na) : vb(tb);\n  this.Sa = this.na ? this.na.Aa || (this.na.Aa = xb(this.na)) : tb.Aa || (tb.Aa = xb(tb));\n  this.f.onreadystatechange = w(this.Fb, this);\n  try {\n    W(this.p, Y(this, \"Opening Xhr\")), this.cb = j, this.f.open(b, a, j), this.cb = o\n  }catch(e) {\n    W(this.p, Y(this, \"Error opening Xhr: \" + e.message));\n    Uc(this, e);\n    return\n  }\n  var a = c || \"\", f = this.headers.l();\n  d && G(d, function(a, b) {\n    f.set(b, a)\n  });\n  \"POST\" == b && !f.ca(\"Content-Type\") && f.set(\"Content-Type\", \"application/x-www-form-urlencoded;charset=utf-8\");\n  G(f, function(a, b) {\n    this.f.setRequestHeader(b, a)\n  }, this);\n  this.Mb && (this.f.responseType = this.Mb);\n  \"withCredentials\" in this.f && (this.f.withCredentials = this.Qb);\n  try {\n    this.Z && (Tb.clearTimeout(this.Z), this.Z = k), 0 < this.Qa && (W(this.p, Y(this, \"Will abort after \" + this.Qa + \"ms if incomplete\")), this.Z = Tb.setTimeout(w(this.xa, this), this.Qa)), W(this.p, Y(this, \"Sending request\")), this.Ha = j, this.f.send(a), this.Ha = o\n  }catch(i) {\n    W(this.p, Y(this, \"Send error: \" + i.message)), Uc(this, i)\n  }\n};\nq.xa = function() {\n  \"undefined\" != typeof da && this.f && (this.o = \"Timed out after \" + this.Qa + \"ms, aborting\", W(this.p, Y(this, this.o)), this.dispatchEvent(\"timeout\"), this.abort(8))\n};\nfunction Uc(a, b) {\n  a.Q = o;\n  a.f && (a.Y = j, a.f.abort(), a.Y = o);\n  a.o = b;\n  Vc(a);\n  Wc(a)\n}\nfunction Vc(a) {\n  a.Za || (a.Za = j, a.dispatchEvent(\"complete\"), a.dispatchEvent(\"error\"))\n}\nq.abort = function() {\n  this.f && this.Q && (W(this.p, Y(this, \"Aborting\")), this.Q = o, this.Y = j, this.f.abort(), this.Y = o, this.dispatchEvent(\"complete\"), this.dispatchEvent(\"abort\"), Wc(this))\n};\nq.w = function() {\n  this.f && (this.Q && (this.Q = o, this.Y = j, this.f.abort(), this.Y = o), Wc(this, j));\n  Sc.ja.w.call(this)\n};\nq.Fb = function() {\n  !this.cb && !this.Ha && !this.Y ? this.dc() : Xc(this)\n};\nq.dc = function() {\n  Xc(this)\n};\nfunction Xc(a) {\n  if(a.Q && \"undefined\" != typeof da) {\n    if(a.Sa[1] && 4 == R(a) && 2 == kc(a)) {\n      W(a.p, Y(a, \"Local request error detected and ignored\"))\n    }else {\n      if(a.Ha && 4 == R(a)) {\n        Tb.setTimeout(w(a.Fb, a), 0)\n      }else {\n        if(a.dispatchEvent(\"readystatechange\"), 4 == R(a)) {\n          W(a.p, Y(a, \"Request complete\"));\n          a.Q = o;\n          try {\n            var b = kc(a), c, d;\n            a: {\n              switch(b) {\n                case 200:\n                ;\n                case 201:\n                ;\n                case 202:\n                ;\n                case 204:\n                ;\n                case 304:\n                ;\n                case 1223:\n                  d = j;\n                  break a;\n                default:\n                  d = o\n              }\n            }\n            if(!(c = d)) {\n              var e;\n              if(e = 0 === b) {\n                var f = (\"\" + a.fb).match(Qa)[1] || k;\n                if(!f && self.location) {\n                  var i = self.location.protocol, f = i.substr(0, i.length - 1)\n                }\n                e = !Tc.test(f ? f.toLowerCase() : \"\")\n              }\n              c = e\n            }\n            if(c) {\n              a.dispatchEvent(\"complete\"), a.dispatchEvent(\"success\")\n            }else {\n              var m;\n              try {\n                m = 2 < R(a) ? a.f.statusText : \"\"\n              }catch(l) {\n                W(a.p, \"Can not get status: \" + l.message), m = \"\"\n              }\n              a.o = m + \" [\" + kc(a) + \"]\";\n              Vc(a)\n            }\n          }finally {\n            Wc(a)\n          }\n        }\n      }\n    }\n  }\n}\nfunction Wc(a, b) {\n  if(a.f) {\n    var c = a.f, d = a.Sa[0] ? fa : k;\n    a.f = k;\n    a.Sa = k;\n    a.Z && (Tb.clearTimeout(a.Z), a.Z = k);\n    b || a.dispatchEvent(\"ready\");\n    try {\n      c.onreadystatechange = d\n    }catch(e) {\n      a.p.D(\"Problem encountered resetting onreadystatechange: \" + e.message)\n    }\n  }\n}\nq.isActive = function() {\n  return!!this.f\n};\nfunction R(a) {\n  return a.f ? a.f.readyState : 0\n}\nfunction kc(a) {\n  try {\n    return 2 < R(a) ? a.f.status : -1\n  }catch(b) {\n    return a.p.la(\"Can not get status: \" + b.message), -1\n  }\n}\nfunction ic(a) {\n  try {\n    return a.f ? a.f.responseText : \"\"\n  }catch(b) {\n    return W(a.p, \"Can not get responseText: \" + b.message), \"\"\n  }\n}\nq.wb = function() {\n  return v(this.o) ? this.o : \"\" + this.o\n};\nfunction Y(a, b) {\n  return b + \" [\" + a.Ab + \" \" + a.fb + \" \" + kc(a) + \"]\"\n}\n;function Yc() {\n  this.Lb = x()\n}\nnew Yc;\nYc.prototype.set = p(\"Lb\");\nYc.prototype.reset = function() {\n  this.set(x())\n};\nYc.prototype.get = ba(\"Lb\");\nfunction Zc(a, b, c, d, e) {\n  (new X).debug(\"TestLoadImageWithRetries: \" + e);\n  if(0 == d) {\n    c(o)\n  }else {\n    var f = e || 0;\n    d--;\n    $c(a, b, function(e) {\n      e ? c(j) : r.setTimeout(function() {\n        Zc(a, b, c, d, f)\n      }, f)\n    })\n  }\n}\nfunction $c(a, b, c) {\n  var d = new X;\n  d.debug(\"TestLoadImage: loading \" + a);\n  var e = new Image, f = k;\n  createHandler = function(a, b) {\n    return function() {\n      try {\n        d.debug(\"TestLoadImage: \" + b), e.onload = k, e.onerror = k, e.onabort = k, e.ontimeout = k, r.clearTimeout(f), c(a)\n      }catch(l) {\n        pc(d, l)\n      }\n    }\n  };\n  e.onload = createHandler(j, \"loaded\");\n  e.onerror = createHandler(o, \"error\");\n  e.onabort = createHandler(o, \"abort\");\n  e.ontimeout = createHandler(o, \"timeout\");\n  f = r.setTimeout(function() {\n    if(e.ontimeout) {\n      e.ontimeout()\n    }\n  }, b);\n  e.src = a\n}\n;function ad(a, b) {\n  this.g = a;\n  this.a = b\n}\nq = ad.prototype;\nq.t = k;\nq.v = k;\nq.Ma = o;\nq.Pb = k;\nq.Ea = k;\nq.eb = k;\nq.H = k;\nq.b = k;\nq.h = -1;\nq.L = k;\nq.Ua = k;\nq.T = p(\"t\");\nq.Xa = function(a) {\n  this.H = a;\n  a = bd(this.g, this.H);\n  T();\n  ob(a, \"MODE\", \"init\");\n  this.v = new Q(this, this.a, h, h, h, this.g.u);\n  this.v.T(this.t);\n  fc(this.v, a, o, k, j);\n  this.b = 0;\n  this.Pb = x()\n};\nq.Tb = function(a) {\n  a ? (this.b = 2, cd(this)) : (T(), a = this.g, a.a.debug(\"Test Connection Blocked\"), a.h = a.V.h, Z(a, 9))\n};\nfunction cd(a) {\n  a.a.debug(\"TestConnection: starting stage 2\");\n  a.v = new Q(a, a.a, h, h, h, a.g.u);\n  a.v.T(a.t);\n  var b = dd(a.g, a.L, a.H);\n  T();\n  if(cc()) {\n    ob(b, \"TYPE\", \"xmlhttp\"), fc(a.v, b, o, a.L, o)\n  }else {\n    ob(b, \"TYPE\", \"html\");\n    var c = a.v, a = Boolean(a.L);\n    c.R = L(b.l());\n    rc(c, a)\n  }\n}\nq.Ya = function(a) {\n  return this.g.Ya(a)\n};\nq.abort = function() {\n  this.v && (this.v.cancel(), this.v = k);\n  this.h = -1\n};\nq.yb = ca(o);\nq.Gb = function(a, b) {\n  this.h = a.h;\n  if(0 == this.b) {\n    if(this.a.debug(\"TestConnection: Got data for stage 1\"), b) {\n      try {\n        var c = uc(b)\n      }catch(d) {\n        pc(this.a, d);\n        ed(this.g, this);\n        return\n      }\n      this.L = this.g.correctHostPrefix(c[0]);\n      this.Ua = c[1]\n    }else {\n      this.a.debug(\"TestConnection: Null responseText\"), ed(this.g, this)\n    }\n  }else {\n    if(2 == this.b) {\n      if(this.Ma) {\n        T(), this.eb = x()\n      }else {\n        if(\"11111\" == b) {\n          if(T(), this.Ma = j, this.Ea = x(), c = this.Ea - this.Pb, cc() || 500 > c) {\n            this.h = 200, this.v.cancel(), this.a.debug(\"Test connection succeeded; using streaming connection\"), T(), fd(this.g, this, j)\n          }\n        }else {\n          T(), this.Ea = this.eb = x(), this.Ma = o\n        }\n      }\n    }\n  }\n};\nq.fa = function() {\n  this.h = this.v.h;\n  if(this.v.F) {\n    if(0 == this.b) {\n      if(this.a.debug(\"TestConnection: request complete for initial check\"), this.Ua) {\n        this.b = 1;\n        var a = gd(this.g, this.Ua, \"/mail/images/cleardot.gif\");\n        L(a);\n        Zc(a.toString(), 5E3, w(this.Tb, this), 3, 2E3)\n      }else {\n        this.b = 2, cd(this)\n      }\n    }else {\n      2 == this.b && (this.a.debug(\"TestConnection: request complete for stage 2\"), a = o, (a = cc() ? this.Ma : 200 > this.eb - this.Ea ? o : j) ? (this.a.debug(\"Test connection succeeded; using streaming connection\"), T(), fd(this.g, this, j)) : (this.a.debug(\"Test connection failed; not using streaming\"), T(), fd(this.g, this, o)))\n    }\n  }else {\n    this.a.debug(\"TestConnection: request failed, in state \" + this.b), 0 == this.b ? T() : 2 == this.b && T(), ed(this.g, this)\n  }\n};\nq.Pa = function() {\n  return this.g.Pa()\n};\nq.isActive = function() {\n  return this.g.isActive()\n};\nfunction hd(a) {\n  this.pb = a || k;\n  this.b = id;\n  this.r = [];\n  this.N = [];\n  this.a = new X\n}\nfunction jd(a, b) {\n  this.Cb = a;\n  this.map = b\n}\nq = hd.prototype;\nq.t = k;\nq.oa = k;\nq.n = k;\nq.k = k;\nq.H = k;\nq.Fa = k;\nq.mb = k;\nq.L = k;\nq.u = k;\nq.Sb = j;\nq.ta = 0;\nq.bc = 0;\nq.Da = o;\nq.c = k;\nq.G = k;\nq.J = k;\nq.W = k;\nq.V = k;\nq.jb = k;\nq.Rb = j;\nq.qa = -1;\nq.Bb = -1;\nq.h = -1;\nq.X = 0;\nq.$ = 0;\nq.sb = uc;\nq.ba = 8;\nvar id = 1, kd = new Rb;\nfunction ld(a) {\n  O.call(this, \"statevent\", a)\n}\ny(ld, O);\nfunction md(a, b) {\n  O.call(this, \"timingevent\", a);\n  this.size = b\n}\ny(md, O);\nvar Rc = \"y2f%\";\nq = hd.prototype;\nq.Xa = function(a, b, c, d, e) {\n  this.a.debug(\"connect()\");\n  T();\n  this.H = b;\n  this.oa = c || {};\n  d && e !== h && (this.oa.OSID = d, this.oa.OAID = e);\n  this.a.debug(\"connectTest_()\");\n  nd(this) && (this.V = new ad(this, this.a), this.V.T(this.t), this.V.Xa(a))\n};\nfunction od(a) {\n  a.V && (a.V.abort(), a.V = k);\n  a.k && (a.k.cancel(), a.k = k);\n  a.J && (r.clearTimeout(a.J), a.J = k);\n  pd(a);\n  a.n && (a.n.cancel(), a.n = k);\n  a.G && (r.clearTimeout(a.G), a.G = k)\n}\nq.T = p(\"t\");\nq.yb = function() {\n  return 0 == this.b\n};\nfunction qd(a) {\n  !a.n && !a.G && (a.G = U(w(a.Ib, a), 0), a.X = 0)\n}\nq.Ib = function(a) {\n  this.G = k;\n  this.a.debug(\"startForwardChannel_\");\n  if(nd(this)) {\n    if(this.b == id) {\n      if(a) {\n        this.a.D(\"Not supposed to retry the open\")\n      }else {\n        this.a.debug(\"open_()\");\n        this.ta = Math.floor(1E5 * Math.random());\n        var a = this.ta++, b = new Q(this, this.a, \"\", a, h, this.u);\n        b.T(this.t);\n        var c = rd(this), d = this.Fa.l();\n        K(d, \"RID\", a);\n        this.pb && K(d, \"CVER\", this.pb);\n        sd(this, d);\n        dc(b, d, c);\n        this.n = b;\n        this.b = 2\n      }\n    }else {\n      3 == this.b && (a ? td(this, a) : 0 == this.r.length ? this.a.debug(\"startForwardChannel_ returned: nothing to send\") : this.n ? this.a.D(\"startForwardChannel_ returned: connection already in progress\") : (td(this), this.a.debug(\"startForwardChannel_ finished, sent request\")))\n    }\n  }\n};\nfunction td(a, b) {\n  var c, d;\n  b ? 6 < a.ba ? (a.r = a.N.concat(a.r), a.N.length = 0, c = a.ta - 1, d = rd(a)) : (c = b.C, d = b.S) : (c = a.ta++, d = rd(a));\n  var e = a.Fa.l();\n  K(e, \"SID\", a.U);\n  K(e, \"RID\", c);\n  K(e, \"AID\", a.qa);\n  sd(a, e);\n  c = new Q(a, a.a, a.U, c, a.X + 1, a.u);\n  c.T(a.t);\n  c.setTimeout(Math.round(1E4) + Math.round(1E4 * Math.random()));\n  a.n = c;\n  dc(c, e, d)\n}\nfunction sd(a, b) {\n  if(a.c) {\n    var c = a.c.getAdditionalParams(a);\n    c && G(c, function(a, c) {\n      K(b, c, a)\n    })\n  }\n}\nfunction rd(a) {\n  var b = Math.min(a.r.length, 1E3), c = [\"count=\" + b], d;\n  6 < a.ba && 0 < b ? (d = a.r[0].Cb, c.push(\"ofs=\" + d)) : d = 0;\n  for(var e = 0;e < b;e++) {\n    var f = a.r[e].Cb, i = a.r[e].map, f = 6 >= a.ba ? e : f - d;\n    try {\n      G(i, function(a, b) {\n        c.push(\"req\" + f + \"_\" + b + \"=\" + encodeURIComponent(a))\n      })\n    }catch(m) {\n      c.push(\"req\" + f + \"_type=\" + encodeURIComponent(\"_badmap\")), a.c && a.c.badMapError(a, i)\n    }\n  }\n  a.N = a.N.concat(a.r.splice(0, b));\n  return c.join(\"&\")\n}\nfunction ud(a) {\n  !a.k && !a.J && (a.lb = 1, a.J = U(w(a.Hb, a), 0), a.$ = 0)\n}\nfunction vd(a) {\n  if(a.k || a.J) {\n    return a.a.D(\"Request already in progress\"), o\n  }\n  if(3 <= a.$ || !(a.u ? a.u.Yb() : 1)) {\n    return o\n  }\n  a.a.debug(\"Going to retry GET\");\n  a.lb++;\n  a.J = U(w(a.Hb, a), wd(a, a.$));\n  a.$++;\n  return j\n}\nq.Hb = function() {\n  this.J = k;\n  if(nd(this)) {\n    this.a.debug(\"Creating new HttpRequest\");\n    this.k = new Q(this, this.a, this.U, \"rpc\", this.lb, this.u);\n    this.k.T(this.t);\n    var a = this.mb.l();\n    K(a, \"RID\", \"rpc\");\n    K(a, \"SID\", this.U);\n    K(a, \"CI\", this.jb ? \"0\" : \"1\");\n    K(a, \"AID\", this.qa);\n    sd(this, a);\n    if(cc()) {\n      K(a, \"TYPE\", \"xmlhttp\"), fc(this.k, a, j, this.L, o)\n    }else {\n      K(a, \"TYPE\", \"html\");\n      var b = this.k, c = Boolean(this.L);\n      b.R = L(a.l());\n      rc(b, c)\n    }\n    this.a.debug(\"New Request created\")\n  }\n};\nfunction nd(a) {\n  if(a.c) {\n    var b = a.c.okToMakeRequest(a);\n    if(0 != b) {\n      return a.a.debug(\"Handler returned error code from okToMakeRequest\"), Z(a, b), o\n    }\n  }\n  return j\n}\nfunction fd(a, b, c) {\n  a.a.debug(\"Test Connection Finished\");\n  a.jb = a.Rb && c;\n  a.h = b.h;\n  a.a.debug(\"connectChannel_()\");\n  a.Vb(id, 0);\n  a.Fa = bd(a, a.H);\n  qd(a)\n}\nfunction ed(a, b) {\n  a.a.debug(\"Test Connection Failed\");\n  a.h = b.h;\n  Z(a, 2)\n}\nq.Gb = function(a, b) {\n  if(!(0 == this.b || this.k != a && this.n != a)) {\n    if(this.h = a.h, this.n == a && 3 == this.b) {\n      if(7 < this.ba) {\n        var c;\n        try {\n          c = this.sb(b)\n        }catch(d) {\n          c = k\n        }\n        if(t(c) && 3 == c.length) {\n          var e = c;\n          if(0 == e[0]) {\n            a: {\n              if(this.a.debug(\"Server claims our backchannel is missing.\"), this.J) {\n                this.a.debug(\"But we are currently starting the request.\")\n              }else {\n                if(this.k) {\n                  if(this.k.va + 3E3 < this.n.va) {\n                    pd(this), this.k.cancel(), this.k = k\n                  }else {\n                    break a\n                  }\n                }else {\n                  this.a.la(\"We do not have a BackChannel established\")\n                }\n                vd(this);\n                T()\n              }\n            }\n          }else {\n            this.Bb = e[1], c = this.Bb - this.qa, 0 < c && (e = e[2], this.a.debug(e + \" bytes (in \" + c + \" arrays) are outstanding on the BackChannel\"), 37500 > e && (this.jb && 0 == this.$) && !this.W && (this.W = U(w(this.cc, this), 6E3)))\n          }\n        }else {\n          this.a.debug(\"Bad POST response data returned\"), Z(this, 11)\n        }\n      }else {\n        b != Rc && (this.a.debug(\"Bad data returned - missing/invald magic cookie\"), Z(this, 11))\n      }\n    }else {\n      if(this.k == a && pd(this), !/^[\\s\\xa0]*$/.test(b)) {\n        c = this.sb(b);\n        for(var e = this.c && this.c.channelHandleMultipleArrays ? [] : k, f = 0;f < c.length;f++) {\n          var i = c[f];\n          this.qa = i[0];\n          i = i[1];\n          2 == this.b ? \"c\" == i[0] ? (this.U = i[1], this.L = this.correctHostPrefix(i[2]), i = i[3], this.ba = i != k ? i : 6, this.b = 3, this.c && this.c.channelOpened(this), this.mb = dd(this, this.L, this.H), ud(this)) : \"stop\" == i[0] && Z(this, 7) : 3 == this.b && (\"stop\" == i[0] ? (e && e.length && (this.c.channelHandleMultipleArrays(this, e), e.length = 0), Z(this, 7)) : \"noop\" != i[0] && (e ? e.push(i) : this.c && this.c.channelHandleArray(this, i)), this.$ = 0)\n        }\n        e && e.length && this.c.channelHandleMultipleArrays(this, e)\n      }\n    }\n  }\n};\nq.correctHostPrefix = function(a) {\n  return this.Sb ? this.c ? this.c.correctHostPrefix(a) : a : k\n};\nq.cc = function() {\n  this.W != k && (this.W = k, this.k.cancel(), this.k = k, vd(this), T())\n};\nfunction pd(a) {\n  a.W != k && (r.clearTimeout(a.W), a.W = k)\n}\nq.fa = function(a) {\n  this.a.debug(\"Request complete\");\n  var b;\n  if(this.k == a) {\n    pd(this), this.k = k, b = 2\n  }else {\n    if(this.n == a) {\n      this.n = k, b = 1\n    }else {\n      return\n    }\n  }\n  this.h = a.h;\n  if(0 != this.b) {\n    if(a.F) {\n      1 == b ? (x(), kd.dispatchEvent(new md(kd, a.S ? a.S.length : 0)), qd(this), this.N.length = 0) : ud(this)\n    }else {\n      var c = a.wb();\n      if(3 == c || 7 == c || 0 == c && 0 < this.h) {\n        this.a.debug(\"Not retrying due to error type\")\n      }else {\n        this.a.debug(\"Maybe retrying, last error: \" + $b(c, this.h));\n        var d;\n        if(d = 1 == b) {\n          this.n || this.G ? (this.a.D(\"Request already in progress\"), d = o) : this.b == id || this.X >= (this.Da ? 0 : 2) ? d = o : (this.a.debug(\"Going to retry POST\"), this.G = U(w(this.Ib, this, a), wd(this, this.X)), this.X++, d = j)\n        }\n        if(d || 2 == b && vd(this)) {\n          return\n        }\n        this.a.debug(\"Exceeded max number of retries\")\n      }\n      this.a.debug(\"Error: HTTP request failed\");\n      switch(c) {\n        case 1:\n          Z(this, 5);\n          break;\n        case 4:\n          Z(this, 10);\n          break;\n        case 3:\n          Z(this, 6);\n          break;\n        case 7:\n          Z(this, 12);\n          break;\n        default:\n          Z(this, 2)\n      }\n    }\n  }\n};\nfunction wd(a, b) {\n  var c = 5E3 + Math.floor(1E4 * Math.random());\n  a.isActive() || (a.a.debug(\"Inactive channel\"), c *= 2);\n  return c * b\n}\nq.Vb = function(a) {\n  0 <= Wa(arguments, this.b) || g(Error(\"Unexpected channel state: \" + this.b))\n};\nfunction Z(a, b) {\n  a.a.info(\"Error code \" + b);\n  if(2 == b || 9 == b) {\n    var c = k;\n    a.c && (c = a.c.getNetworkTestImageUri(a));\n    var d = w(a.jc, a);\n    c || (c = new I(\"//www.google.com/images/cleardot.gif\"), L(c));\n    $c(c.toString(), 1E4, d)\n  }else {\n    T()\n  }\n  xd(a, b)\n}\nq.jc = function(a) {\n  a ? (this.a.info(\"Successfully pinged google.com\"), T()) : (this.a.info(\"Failed to ping google.com\"), T(), xd(this, 8))\n};\nfunction xd(a, b) {\n  a.a.debug(\"HttpChannel: error - \" + b);\n  a.b = 0;\n  a.c && a.c.channelError(a, b);\n  yd(a);\n  od(a)\n}\nfunction yd(a) {\n  a.b = 0;\n  a.h = -1;\n  if(a.c) {\n    if(0 == a.N.length && 0 == a.r.length) {\n      a.c.channelClosed(a)\n    }else {\n      a.a.debug(\"Number of undelivered maps, pending: \" + a.N.length + \", outgoing: \" + a.r.length);\n      var b = Za(a.N), c = Za(a.r);\n      a.N.length = 0;\n      a.r.length = 0;\n      a.c.channelClosed(a, b, c)\n    }\n  }\n}\nfunction bd(a, b) {\n  var c = gd(a, k, b);\n  a.a.debug(\"GetForwardChannelUri: \" + c);\n  return c\n}\nfunction dd(a, b, c) {\n  b = gd(a, a.Pa() ? b : k, c);\n  a.a.debug(\"GetBackChannelUri: \" + b);\n  return b\n}\nfunction gd(a, b, c) {\n  var d = c instanceof I ? c.l() : new I(c, h);\n  if(\"\" != d.da) {\n    b && db(d, b + \".\" + d.da), eb(d, d.ua)\n  }else {\n    var e = window.location, d = qb(e.protocol, b ? b + \".\" + e.hostname : e.hostname, e.port, c)\n  }\n  a.oa && G(a.oa, function(a, b) {\n    K(d, b, a)\n  });\n  K(d, \"VER\", a.ba);\n  sd(a, d);\n  return d\n}\nq.Ya = function(a) {\n  a && g(Error(\"Can't create secondary domain capable XhrIo object.\"));\n  a = new Sc;\n  a.Qb = j;\n  return a\n};\nq.isActive = function() {\n  return!!this.c && this.c.isActive(this)\n};\nfunction U(a, b) {\n  \"function\" != ga(a) && g(Error(\"Fn must not be null and must be a function\"));\n  return r.setTimeout(function() {\n    a()\n  }, b)\n}\nfunction T() {\n  kd.dispatchEvent(new ld(kd))\n}\nq.Pa = function() {\n  return!cc()\n};\nfunction zd() {\n}\nq = zd.prototype;\nq.channelHandleMultipleArrays = k;\nq.okToMakeRequest = ca(0);\nq.channelOpened = aa();\nq.channelHandleArray = aa();\nq.channelError = aa();\nq.channelClosed = aa();\nq.getAdditionalParams = function() {\n  return{}\n};\nq.getNetworkTestImageUri = ca(k);\nq.isActive = ca(j);\nq.badMapError = aa();\nq.correctHostPrefix = function(a) {\n  return a\n};\nvar $, Ad;\nAd = {\"0\":\"Ok\", 4:\"User is logging out\", 6:\"Unknown session ID\", 7:\"Stopped by server\", 8:\"General network error\", 2:\"Request failed\", 9:\"Blocked by a network administrator\", 5:\"No data from server\", 10:\"Got bad data from the server\", 11:\"Got a bad response from the server\"};\n$ = function(a, b) {\n  var c, d, e, f, i, m, l, n, s;\n  l = this;\n  a || (a = \"channel\");\n  a.match(/:\\/\\//) && a.replace(/^ws/, \"http\");\n  b || (b = {});\n  if(t(b || \"string\" === typeof b)) {\n    b = {}\n  }\n  i = b.reconnectTime || 3E3;\n  s = function(a) {\n    l.readyState = l.readyState = a\n  };\n  s(this.CLOSED);\n  n = k;\n  e = b.nc;\n  c = new zd;\n  c.channelOpened = function() {\n    e = n;\n    s($.OPEN);\n    return\"function\" === typeof l.onopen ? l.onopen() : h\n  };\n  d = k;\n  c.channelError = function(a, b) {\n    var c;\n    c = Ad[b];\n    d = b;\n    s($.Ta);\n    return\"function\" === typeof l.onerror ? l.onerror(c, b) : h\n  };\n  m = k;\n  c.channelClosed = function(a, c, e) {\n    if(l.readyState !== $.CLOSED) {\n      n = k;\n      a = d ? Ad[d] : \"Closed\";\n      s($.CLOSED);\n      try {\n        if(\"function\" === typeof l.onclose) {\n          l.onclose(a, c, e)\n        }\n      }catch(Bd) {\n        \"undefined\" !== typeof console && console !== k && console.error(Bd.stack)\n      }\n      b.reconnect && (7 !== d && 0 !== d) && (c = 6 === d ? 0 : i, clearTimeout(m), m = setTimeout(f, c));\n      return d = k\n    }\n  };\n  c.channelHandleArray = function(a, b) {\n    return\"function\" === typeof l.onmessage ? l.onmessage(b) : h\n  };\n  f = function() {\n    n && g(Error(\"Reconnect() called from invalid state\"));\n    s($.CONNECTING);\n    if(\"function\" === typeof l.onconnecting) {\n      l.onconnecting()\n    }\n    clearTimeout(m);\n    n = new hd(b.appVersion);\n    n.c = c;\n    d = k;\n    if(b.failFast) {\n      var f = n;\n      f.Da = j;\n      f.a.info(\"setFailFast: true\");\n      if((f.n || f.G) && f.X > (f.Da ? 0 : 2)) {\n        f.a.info(\"Retry count \" + f.X + \" > new maxRetries \" + (f.Da ? 0 : 2) + \". Fail immediately!\"), f.n ? (f.n.cancel(), f.fa(f.n)) : (r.clearTimeout(f.G), f.G = k, Z(f, 2))\n      }\n    }\n    return n.Xa(\"\" + a + \"/test\", \"\" + a + \"/bind\", k, e != k ? e.U : h, e != k ? e.qa : h)\n  };\n  this.open = function() {\n    l.readyState !== l.CLOSED && g(Error(\"Already open\"));\n    return f()\n  };\n  this.close = function() {\n    clearTimeout(m);\n    d = 0;\n    if(l.readyState !== $.CLOSED) {\n      s($.Ta);\n      var a = n;\n      a.a.debug(\"disconnect()\");\n      od(a);\n      if(3 == a.b) {\n        var b = a.ta++, c = a.Fa.l();\n        K(c, \"SID\", a.U);\n        K(c, \"RID\", b);\n        K(c, \"TYPE\", \"terminate\");\n        sd(a, c);\n        b = new Q(a, a.a, a.U, b, h, a.u);\n        b.R = L(c.l());\n        c = new Image;\n        c.src = b.R;\n        c.onload = c.onerror = w(b.Xb, b);\n        b.va = x();\n        gc(b)\n      }\n      yd(a)\n    }\n  };\n  this.sendMap = function(a) {\n    var b;\n    ((b = l.readyState) === $.Ta || b === $.CLOSED) && g(Error(\"Cannot send to a closed connection\"));\n    b = n;\n    0 == b.b && g(Error(\"Invalid operation: sending map when state is closed\"));\n    1E3 == b.r.length && b.a.D(\"Already have 1000 queued maps upon queueing \" + vc(a));\n    b.r.push(new jd(b.bc++, a));\n    (2 == b.b || 3 == b.b) && qd(b)\n  };\n  this.send = function(a) {\n    return this.sendMap({JSON:vc(a)})\n  };\n  f();\n  return this\n};\n$.prototype.CONNECTING = $.CONNECTING = $.CONNECTING = 0;\n$.prototype.OPEN = $.OPEN = $.OPEN = 1;\n$.prototype.CLOSING = $.CLOSING = $.Ta = 2;\n$.prototype.CLOSED = $.CLOSED = $.CLOSED = 3;\n(\"undefined\" !== typeof exports && exports !== k ? exports : window).BCSocket = $;\n\n})();\n\n})();\n//@ sourceURL=bcsocket");