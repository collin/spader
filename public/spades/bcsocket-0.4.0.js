minispade.register('bcsocket', "(function() {(function(){\nfunction g(a) {\n  throw a;\n}\nvar h = void 0, j = true, k = null, o = false;\nfunction aa() {\n  return function() {\n  }\n}\nfunction p(a) {\n  return function(b) {\n    this[a] = b\n  }\n}\nfunction ba(a) {\n  return function() {\n    return this[a]\n  }\n}\nfunction ca(a) {\n  return function() {\n    return a\n  }\n}\nvar q, da = da || {}, r = this;\nfunction ea(a) {\n  for(var a = a.split(\".\"), b = r, c;c = a.shift();) {\n    if(b[c] != k) {\n      b = b[c]\n    }else {\n      return k\n    }\n  }\n  return b\n}\nfunction fa() {\n}\nfunction ga(a) {\n  var b = typeof a;\n  if(b == \"object\") {\n    if(a) {\n      if(a instanceof Array) {\n        return\"array\"\n      }else {\n        if(a instanceof Object) {\n          return b\n        }\n      }\n      var c = Object.prototype.toString.call(a);\n      if(c == \"[object Window]\") {\n        return\"object\"\n      }\n      if(c == \"[object Array]\" || typeof a.length == \"number\" && typeof a.splice != \"undefined\" && typeof a.propertyIsEnumerable != \"undefined\" && !a.propertyIsEnumerable(\"splice\")) {\n        return\"array\"\n      }\n      if(c == \"[object Function]\" || typeof a.call != \"undefined\" && typeof a.propertyIsEnumerable != \"undefined\" && !a.propertyIsEnumerable(\"call\")) {\n        return\"function\"\n      }\n    }else {\n      return\"null\"\n    }\n  }else {\n    if(b == \"function\" && typeof a.call == \"undefined\") {\n      return\"object\"\n    }\n  }\n  return b\n}\nfunction s(a) {\n  return ga(a) == \"array\"\n}\nfunction ha(a) {\n  var b = ga(a);\n  return b == \"array\" || b == \"object\" && typeof a.length == \"number\"\n}\nfunction t(a) {\n  return typeof a == \"string\"\n}\nfunction ia(a) {\n  return a[ja] || (a[ja] = ++ka)\n}\nvar ja = \"closure_uid_\" + Math.floor(Math.random() * 2147483648).toString(36), ka = 0;\nfunction la(a, b, c) {\n  return a.call.apply(a.bind, arguments)\n}\nfunction ma(a, b, c) {\n  a || g(Error());\n  if(arguments.length > 2) {\n    var d = Array.prototype.slice.call(arguments, 2);\n    return function() {\n      var c = Array.prototype.slice.call(arguments);\n      Array.prototype.unshift.apply(c, d);\n      return a.apply(b, c)\n    }\n  }else {\n    return function() {\n      return a.apply(b, arguments)\n    }\n  }\n}\nfunction u(a, b, c) {\n  u = Function.prototype.bind && Function.prototype.bind.toString().indexOf(\"native code\") != -1 ? la : ma;\n  return u.apply(k, arguments)\n}\nvar v = Date.now || function() {\n  return+new Date\n};\nfunction w(a, b) {\n  function c() {\n  }\n  c.prototype = b.prototype;\n  a.za = b.prototype;\n  a.prototype = new c\n}\n;function na(a) {\n  this.stack = Error().stack || \"\";\n  if(a) {\n    this.message = String(a)\n  }\n}\nw(na, Error);\nna.prototype.name = \"CustomError\";\nfunction oa(a, b) {\n  for(var c = 1;c < arguments.length;c++) {\n    var d = String(arguments[c]).replace(/\\$/g, \"$$$$\"), a = a.replace(/\\%s/, d)\n  }\n  return a\n}\nvar pa = /^[a-zA-Z0-9\\-_.!~*'()]*$/;\nfunction qa(a) {\n  a = String(a);\n  return!pa.test(a) ? encodeURIComponent(a) : a\n}\nfunction ra(a) {\n  if(!sa.test(a)) {\n    return a\n  }\n  a.indexOf(\"&\") != -1 && (a = a.replace(ta, \"&amp;\"));\n  a.indexOf(\"<\") != -1 && (a = a.replace(ua, \"&lt;\"));\n  a.indexOf(\">\") != -1 && (a = a.replace(va, \"&gt;\"));\n  a.indexOf('\"') != -1 && (a = a.replace(xa, \"&quot;\"));\n  return a\n}\nvar ta = /&/g, ua = /</g, va = />/g, xa = /\\\"/g, sa = /[&<>\\\"]/;\nfunction ya(a, b) {\n  if(a < b) {\n    return-1\n  }else {\n    if(a > b) {\n      return 1\n    }\n  }\n  return 0\n}\n;function za(a, b) {\n  b.unshift(a);\n  na.call(this, oa.apply(k, b));\n  b.shift();\n  this.rc = a\n}\nw(za, na);\nza.prototype.name = \"AssertionError\";\nfunction Aa(a, b) {\n  g(new za(\"Failure\" + (a ? \": \" + a : \"\"), Array.prototype.slice.call(arguments, 1)))\n}\n;var Ba = RegExp(\"^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\\\w\\\\d\\\\-\\\\u0100-\\\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\\\?([^#]*))?(?:#(.*))?$\");\nfunction Ca(a) {\n  var b = z, c;\n  for(c in b) {\n    a.call(h, b[c], c, b)\n  }\n}\nfunction Da(a) {\n  var b = [], c = 0, d;\n  for(d in a) {\n    b[c++] = a[d]\n  }\n  return b\n}\nfunction Ea(a) {\n  var b = [], c = 0, d;\n  for(d in a) {\n    b[c++] = d\n  }\n  return b\n}\nvar Fa = \"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf\".split(\",\");\nfunction Ga(a, b) {\n  for(var c, d, e = 1;e < arguments.length;e++) {\n    d = arguments[e];\n    for(c in d) {\n      a[c] = d[c]\n    }\n    for(var f = 0;f < Fa.length;f++) {\n      c = Fa[f], Object.prototype.hasOwnProperty.call(d, c) && (a[c] = d[c])\n    }\n  }\n}\n;var A = Array.prototype, Ha = A.indexOf ? function(a, b, c) {\n  return A.indexOf.call(a, b, c)\n} : function(a, b, c) {\n  c = c == k ? 0 : c < 0 ? Math.max(0, a.length + c) : c;\n  if(t(a)) {\n    return!t(b) || b.length != 1 ? -1 : a.indexOf(b, c)\n  }\n  for(;c < a.length;c++) {\n    if(c in a && a[c] === b) {\n      return c\n    }\n  }\n  return-1\n}, Ia = A.forEach ? function(a, b, c) {\n  A.forEach.call(a, b, c)\n} : function(a, b, c) {\n  for(var d = a.length, e = t(a) ? a.split(\"\") : a, f = 0;f < d;f++) {\n    f in e && b.call(c, e[f], f, a)\n  }\n};\nfunction Ja(a) {\n  return A.concat.apply(A, arguments)\n}\nfunction Ka(a) {\n  if(s(a)) {\n    return Ja(a)\n  }else {\n    for(var b = [], c = 0, d = a.length;c < d;c++) {\n      b[c] = a[c]\n    }\n    return b\n  }\n}\nfunction La(a, b) {\n  for(var c = 1;c < arguments.length;c++) {\n    var d = arguments[c], e;\n    if(s(d) || (e = ha(d)) && d.hasOwnProperty(\"callee\")) {\n      a.push.apply(a, d)\n    }else {\n      if(e) {\n        for(var f = a.length, i = d.length, l = 0;l < i;l++) {\n          a[f + l] = d[l]\n        }\n      }else {\n        a.push(d)\n      }\n    }\n  }\n}\n;function Ma(a) {\n  if(typeof a.$ == \"function\") {\n    return a.$()\n  }\n  if(t(a)) {\n    return a.split(\"\")\n  }\n  if(ha(a)) {\n    for(var b = [], c = a.length, d = 0;d < c;d++) {\n      b.push(a[d])\n    }\n    return b\n  }\n  return Da(a)\n}\nfunction B(a, b, c) {\n  if(typeof a.forEach == \"function\") {\n    a.forEach(b, c)\n  }else {\n    if(ha(a) || t(a)) {\n      Ia(a, b, c)\n    }else {\n      var d;\n      if(typeof a.ga == \"function\") {\n        d = a.ga()\n      }else {\n        if(typeof a.$ != \"function\") {\n          if(ha(a) || t(a)) {\n            d = [];\n            for(var e = a.length, f = 0;f < e;f++) {\n              d.push(f)\n            }\n          }else {\n            d = Ea(a)\n          }\n        }else {\n          d = h\n        }\n      }\n      for(var e = Ma(a), f = e.length, i = 0;i < f;i++) {\n        b.call(c, e[i], d && d[i], a)\n      }\n    }\n  }\n}\n;function Na(a, b) {\n  this.O = {};\n  this.j = [];\n  var c = arguments.length;\n  if(c > 1) {\n    c % 2 && g(Error(\"Uneven number of arguments\"));\n    for(var d = 0;d < c;d += 2) {\n      this.set(arguments[d], arguments[d + 1])\n    }\n  }else {\n    if(a) {\n      a instanceof Na ? (c = a.ga(), d = a.$()) : (c = Ea(a), d = Da(a));\n      for(var e = 0;e < c.length;e++) {\n        this.set(c[e], d[e])\n      }\n    }\n  }\n}\nq = Na.prototype;\nq.c = 0;\nq.Rb = 0;\nq.$ = function() {\n  Oa(this);\n  for(var a = [], b = 0;b < this.j.length;b++) {\n    a.push(this.O[this.j[b]])\n  }\n  return a\n};\nq.ga = function() {\n  Oa(this);\n  return this.j.concat()\n};\nq.K = function(a) {\n  return C(this.O, a)\n};\nq.remove = function(a) {\n  return C(this.O, a) ? (delete this.O[a], this.c--, this.Rb++, this.j.length > 2 * this.c && Oa(this), j) : o\n};\nfunction Oa(a) {\n  if(a.c != a.j.length) {\n    for(var b = 0, c = 0;b < a.j.length;) {\n      var d = a.j[b];\n      C(a.O, d) && (a.j[c++] = d);\n      b++\n    }\n    a.j.length = c\n  }\n  if(a.c != a.j.length) {\n    for(var e = {}, c = b = 0;b < a.j.length;) {\n      d = a.j[b], C(e, d) || (a.j[c++] = d, e[d] = 1), b++\n    }\n    a.j.length = c\n  }\n}\nq.get = function(a, b) {\n  return C(this.O, a) ? this.O[a] : b\n};\nq.set = function(a, b) {\n  C(this.O, a) || (this.c++, this.j.push(a), this.Rb++);\n  this.O[a] = b\n};\nq.l = function() {\n  return new Na(this)\n};\nfunction C(a, b) {\n  return Object.prototype.hasOwnProperty.call(a, b)\n}\n;function D(a, b) {\n  var c;\n  a instanceof D ? (this.la(b == k ? a.H : b), Pa(this, a.V), Qa(this, a.Da), Ra(this, a.L), Sa(this, a.ba), Ta(this, a.r), Ua(this, a.D.l()), Va(this, a.ra)) : a && (c = String(a).match(Ba)) ? (this.la(!!b), Pa(this, c[1] || \"\", j), Qa(this, c[2] || \"\", j), Ra(this, c[3] || \"\", j), Sa(this, c[4]), Ta(this, c[5] || \"\", j), Ua(this, c[6] || \"\", j), Va(this, c[7] || \"\", j)) : (this.la(!!b), this.D = new Wa(k, this, this.H))\n}\nq = D.prototype;\nq.V = \"\";\nq.Da = \"\";\nq.L = \"\";\nq.ba = k;\nq.r = \"\";\nq.ra = \"\";\nq.$b = o;\nq.H = o;\nq.toString = function() {\n  if(this.w) {\n    return this.w\n  }\n  var a = [];\n  this.V && a.push(Xa(this.V, Ya), \":\");\n  this.L && (a.push(\"//\"), this.Da && a.push(Xa(this.Da, Ya), \"@\"), a.push(t(this.L) ? encodeURIComponent(this.L) : k), this.ba != k && a.push(\":\", String(this.ba)));\n  this.r && (this.L && this.r.charAt(0) != \"/\" && a.push(\"/\"), a.push(Xa(this.r, this.r.charAt(0) == \"/\" ? Za : $a)));\n  var b = String(this.D);\n  b && a.push(\"?\", b);\n  this.ra && a.push(\"#\", Xa(this.ra, ab));\n  return this.w = a.join(\"\")\n};\nq.l = function() {\n  return bb(this.V, this.Da, this.L, this.ba, this.r, this.D.l(), this.ra, this.H)\n};\nfunction Pa(a, b, c) {\n  E(a);\n  delete a.w;\n  a.V = c ? b ? decodeURIComponent(b) : \"\" : b;\n  if(a.V) {\n    a.V = a.V.replace(/:$/, \"\")\n  }\n}\nfunction Qa(a, b, c) {\n  E(a);\n  delete a.w;\n  a.Da = c ? b ? decodeURIComponent(b) : \"\" : b\n}\nfunction Ra(a, b, c) {\n  E(a);\n  delete a.w;\n  a.L = c ? b ? decodeURIComponent(b) : \"\" : b\n}\nfunction Sa(a, b) {\n  E(a);\n  delete a.w;\n  b ? (b = Number(b), (isNaN(b) || b < 0) && g(Error(\"Bad port number \" + b)), a.ba = b) : a.ba = k\n}\nfunction Ta(a, b, c) {\n  E(a);\n  delete a.w;\n  a.r = c ? b ? decodeURIComponent(b) : \"\" : b\n}\nfunction Ua(a, b, c) {\n  E(a);\n  delete a.w;\n  b instanceof Wa ? (a.D = b, a.D.kb = a, a.D.la(a.H)) : (c || (b = Xa(b, cb)), a.D = new Wa(b, a, a.H))\n}\nfunction G(a, b, c) {\n  E(a);\n  delete a.w;\n  a.D.set(b, c)\n}\nfunction db(a, b, c) {\n  E(a);\n  delete a.w;\n  s(c) || (c = [String(c)]);\n  a = a.D;\n  H(a);\n  eb(a);\n  b = I(a, b);\n  if(a.K(b)) {\n    var d = a.g.get(b);\n    s(d) ? a.c -= d.length : a.c--\n  }\n  c.length > 0 && (a.g.set(b, c), a.c += c.length)\n}\nfunction Va(a, b, c) {\n  E(a);\n  delete a.w;\n  a.ra = c ? b ? decodeURIComponent(b) : \"\" : b\n}\nfunction J(a) {\n  E(a);\n  G(a, \"zx\", Math.floor(Math.random() * 2147483648).toString(36) + Math.abs(Math.floor(Math.random() * 2147483648) ^ v()).toString(36));\n  return a\n}\nfunction E(a) {\n  a.$b && g(Error(\"Tried to modify a read-only Uri\"))\n}\nq.la = function(a) {\n  this.H = a;\n  this.D && this.D.la(a);\n  return this\n};\nfunction bb(a, b, c, d, e, f, i, l) {\n  l = new D(k, l);\n  a && Pa(l, a);\n  b && Qa(l, b);\n  c && Ra(l, c);\n  d && Sa(l, d);\n  e && Ta(l, e);\n  f && Ua(l, f);\n  i && Va(l, i);\n  return l\n}\nvar fb = /^[a-zA-Z0-9\\-_.!~*'():\\/;?]*$/;\nfunction Xa(a, b) {\n  var c = k;\n  t(a) && (c = a, fb.test(c) || (c = encodeURI(a)), c.search(b) >= 0 && (c = c.replace(b, gb)));\n  return c\n}\nfunction gb(a) {\n  a = a.charCodeAt(0);\n  return\"%\" + (a >> 4 & 15).toString(16) + (a & 15).toString(16)\n}\nvar Ya = /[#\\/\\?@]/g, $a = /[\\#\\?:]/g, Za = /[\\#\\?]/g, cb = /[\\#\\?@]/g, ab = /#/g;\nfunction Wa(a, b, c) {\n  this.M = a || k;\n  this.kb = b || k;\n  this.H = !!c\n}\nfunction H(a) {\n  if(!a.g && (a.g = new Na, a.c = 0, a.M)) {\n    for(var b = a.M.split(\"&\"), c = 0;c < b.length;c++) {\n      var d = b[c].indexOf(\"=\"), e = k, f = k;\n      d >= 0 ? (e = b[c].substring(0, d), f = b[c].substring(d + 1)) : e = b[c];\n      e = decodeURIComponent(e.replace(/\\+/g, \" \"));\n      e = I(a, e);\n      a.add(e, f ? decodeURIComponent(f.replace(/\\+/g, \" \")) : \"\")\n    }\n  }\n}\nq = Wa.prototype;\nq.g = k;\nq.c = k;\nq.add = function(a, b) {\n  H(this);\n  eb(this);\n  a = I(this, a);\n  if(this.K(a)) {\n    var c = this.g.get(a);\n    s(c) ? c.push(b) : this.g.set(a, [c, b])\n  }else {\n    this.g.set(a, b)\n  }\n  this.c++;\n  return this\n};\nq.remove = function(a) {\n  H(this);\n  a = I(this, a);\n  if(this.g.K(a)) {\n    eb(this);\n    var b = this.g.get(a);\n    s(b) ? this.c -= b.length : this.c--;\n    return this.g.remove(a)\n  }\n  return o\n};\nq.K = function(a) {\n  H(this);\n  a = I(this, a);\n  return this.g.K(a)\n};\nq.ga = function() {\n  H(this);\n  for(var a = this.g.$(), b = this.g.ga(), c = [], d = 0;d < b.length;d++) {\n    var e = a[d];\n    if(s(e)) {\n      for(var f = 0;f < e.length;f++) {\n        c.push(b[d])\n      }\n    }else {\n      c.push(b[d])\n    }\n  }\n  return c\n};\nq.$ = function(a) {\n  H(this);\n  if(a) {\n    if(a = I(this, a), this.K(a)) {\n      var b = this.g.get(a);\n      if(s(b)) {\n        return b\n      }else {\n        a = [], a.push(b)\n      }\n    }else {\n      a = []\n    }\n  }else {\n    for(var b = this.g.$(), a = [], c = 0;c < b.length;c++) {\n      var d = b[c];\n      s(d) ? La(a, d) : a.push(d)\n    }\n  }\n  return a\n};\nq.set = function(a, b) {\n  H(this);\n  eb(this);\n  a = I(this, a);\n  if(this.K(a)) {\n    var c = this.g.get(a);\n    s(c) ? this.c -= c.length : this.c--\n  }\n  this.g.set(a, b);\n  this.c++;\n  return this\n};\nq.get = function(a, b) {\n  H(this);\n  a = I(this, a);\n  if(this.K(a)) {\n    var c = this.g.get(a);\n    return s(c) ? c[0] : c\n  }else {\n    return b\n  }\n};\nq.toString = function() {\n  if(this.M) {\n    return this.M\n  }\n  if(!this.g) {\n    return\"\"\n  }\n  for(var a = [], b = 0, c = this.g.ga(), d = 0;d < c.length;d++) {\n    var e = c[d], f = qa(e), e = this.g.get(e);\n    if(s(e)) {\n      for(var i = 0;i < e.length;i++) {\n        b > 0 && a.push(\"&\"), a.push(f), e[i] !== \"\" && a.push(\"=\", qa(e[i])), b++\n      }\n    }else {\n      b > 0 && a.push(\"&\"), a.push(f), e !== \"\" && a.push(\"=\", qa(e)), b++\n    }\n  }\n  return this.M = a.join(\"\")\n};\nfunction eb(a) {\n  delete a.ab;\n  delete a.M;\n  a.kb && delete a.kb.w\n}\nq.l = function() {\n  var a = new Wa;\n  if(this.ab) {\n    a.ab = this.ab\n  }\n  if(this.M) {\n    a.M = this.M\n  }\n  if(this.g) {\n    a.g = this.g.l()\n  }\n  return a\n};\nfunction I(a, b) {\n  var c = String(b);\n  a.H && (c = c.toLowerCase());\n  return c\n}\nq.la = function(a) {\n  a && !this.H && (H(this), eb(this), B(this.g, function(a, c) {\n    var d = c.toLowerCase();\n    c != d && (this.remove(c), this.add(d, a))\n  }, this));\n  this.H = a\n};\nfunction hb() {\n}\nhb.prototype.Fa = k;\nvar ib;\nfunction jb() {\n}\nw(jb, hb);\nfunction kb(a) {\n  return(a = lb(a)) ? new ActiveXObject(a) : new XMLHttpRequest\n}\nfunction mb(a) {\n  var b = {};\n  lb(a) && (b[0] = j, b[1] = j);\n  return b\n}\njb.prototype.eb = k;\nfunction lb(a) {\n  if(!a.eb && typeof XMLHttpRequest == \"undefined\" && typeof ActiveXObject != \"undefined\") {\n    for(var b = [\"MSXML2.XMLHTTP.6.0\", \"MSXML2.XMLHTTP.3.0\", \"MSXML2.XMLHTTP\", \"Microsoft.XMLHTTP\"], c = 0;c < b.length;c++) {\n      var d = b[c];\n      try {\n        return new ActiveXObject(d), a.eb = d\n      }catch(e) {\n      }\n    }\n    g(Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\"))\n  }\n  return a.eb\n}\nib = new jb;\nvar K, nb, ob, pb;\nfunction qb() {\n  return r.navigator ? r.navigator.userAgent : k\n}\npb = ob = nb = K = o;\nvar rb;\nif(rb = qb()) {\n  var sb = r.navigator;\n  K = rb.indexOf(\"Opera\") == 0;\n  nb = !K && rb.indexOf(\"MSIE\") != -1;\n  ob = !K && rb.indexOf(\"WebKit\") != -1;\n  pb = !K && !ob && sb.product == \"Gecko\"\n}\nvar tb = K, L = nb, ub = pb, M = ob, vb = r.navigator, wb = (vb && vb.platform || \"\").indexOf(\"Mac\") != -1, xb;\na: {\n  var yb = \"\", zb;\n  if(tb && r.opera) {\n    var Ab = r.opera.version, yb = typeof Ab == \"function\" ? Ab() : Ab\n  }else {\n    if(ub ? zb = /rv\\:([^\\);]+)(\\)|;)/ : L ? zb = /MSIE\\s+([^\\);]+)(\\)|;)/ : M && (zb = /WebKit\\/(\\S+)/), zb) {\n      var Bb = zb.exec(qb()), yb = Bb ? Bb[1] : \"\"\n    }\n  }\n  if(L) {\n    var Cb, Db = r.document;\n    Cb = Db ? Db.documentMode : h;\n    if(Cb > parseFloat(yb)) {\n      xb = String(Cb);\n      break a\n    }\n  }\n  xb = yb\n}\nvar Eb = {};\nfunction N(a) {\n  var b;\n  if(!(b = Eb[a])) {\n    b = 0;\n    for(var c = String(xb).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g, \"\").split(\".\"), d = String(a).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g, \"\").split(\".\"), e = Math.max(c.length, d.length), f = 0;b == 0 && f < e;f++) {\n      var i = c[f] || \"\", l = d[f] || \"\", m = RegExp(\"(\\\\d*)(\\\\D*)\", \"g\"), n = RegExp(\"(\\\\d*)(\\\\D*)\", \"g\");\n      do {\n        var x = m.exec(i) || [\"\", \"\", \"\"], y = n.exec(l) || [\"\", \"\", \"\"];\n        if(x[0].length == 0 && y[0].length == 0) {\n          break\n        }\n        b = ya(x[1].length == 0 ? 0 : parseInt(x[1], 10), y[1].length == 0 ? 0 : parseInt(y[1], 10)) || ya(x[2].length == 0, y[2].length == 0) || ya(x[2], y[2])\n      }while(b == 0)\n    }\n    b = Eb[a] = b >= 0\n  }\n  return b\n}\nvar Fb = {};\nfunction Gb() {\n  return Fb[9] || (Fb[9] = L && document.documentMode && document.documentMode >= 9)\n}\n;function Hb() {\n}\nvar Ib = 0;\nq = Hb.prototype;\nq.key = 0;\nq.ja = o;\nq.pb = o;\nq.La = function(a, b, c, d, e, f) {\n  ga(a) == \"function\" ? this.Bb = j : a && a.handleEvent && ga(a.handleEvent) == \"function\" ? this.Bb = o : g(Error(\"Invalid listener argument\"));\n  this.wa = a;\n  this.Lb = b;\n  this.src = c;\n  this.type = d;\n  this.capture = !!e;\n  this.cb = f;\n  this.pb = o;\n  this.key = ++Ib;\n  this.ja = o\n};\nq.handleEvent = function(a) {\n  return this.Bb ? this.wa.call(this.cb || this.src, a) : this.wa.handleEvent.call(this.wa, a)\n};\n!L || Gb();\nvar Jb = !L || Gb();\nL && N(\"8\");\n!M || N(\"528\");\nub && N(\"1.9b\") || L && N(\"8\") || tb && N(\"9.5\") || M && N(\"528\");\n!ub || N(\"8\");\nfunction O() {\n}\nO.prototype.tb = o;\nO.prototype.Ga = function() {\n  if(!this.tb) {\n    this.tb = j, this.z()\n  }\n};\nO.prototype.z = function() {\n  this.Wb && Kb.apply(k, this.Wb)\n};\nfunction Kb(a) {\n  for(var b = 0, c = arguments.length;b < c;++b) {\n    var d = arguments[b];\n    ha(d) ? Kb.apply(k, d) : d && typeof d.Ga == \"function\" && d.Ga()\n  }\n}\n;function P(a, b) {\n  this.type = a;\n  this.currentTarget = this.target = b\n}\nw(P, O);\nP.prototype.z = function() {\n  delete this.type;\n  delete this.target;\n  delete this.currentTarget\n};\nP.prototype.ia = o;\nP.prototype.Ra = j;\nfunction Lb(a) {\n  Lb[\" \"](a);\n  return a\n}\nLb[\" \"] = fa;\nfunction Mb(a, b) {\n  a && this.La(a, b)\n}\nw(Mb, P);\nq = Mb.prototype;\nq.target = k;\nq.relatedTarget = k;\nq.offsetX = 0;\nq.offsetY = 0;\nq.clientX = 0;\nq.clientY = 0;\nq.screenX = 0;\nq.screenY = 0;\nq.button = 0;\nq.keyCode = 0;\nq.charCode = 0;\nq.ctrlKey = o;\nq.altKey = o;\nq.shiftKey = o;\nq.metaKey = o;\nq.jc = o;\nq.vb = k;\nq.La = function(a, b) {\n  var c = this.type = a.type;\n  P.call(this, c);\n  this.target = a.target || a.srcElement;\n  this.currentTarget = b;\n  var d = a.relatedTarget;\n  if(d) {\n    if(ub) {\n      var e;\n      a: {\n        try {\n          Lb(d.nodeName);\n          e = j;\n          break a\n        }catch(f) {\n        }\n        e = o\n      }\n      e || (d = k)\n    }\n  }else {\n    if(c == \"mouseover\") {\n      d = a.fromElement\n    }else {\n      if(c == \"mouseout\") {\n        d = a.toElement\n      }\n    }\n  }\n  this.relatedTarget = d;\n  this.offsetX = M || a.offsetX !== h ? a.offsetX : a.layerX;\n  this.offsetY = M || a.offsetY !== h ? a.offsetY : a.layerY;\n  this.clientX = a.clientX !== h ? a.clientX : a.pageX;\n  this.clientY = a.clientY !== h ? a.clientY : a.pageY;\n  this.screenX = a.screenX || 0;\n  this.screenY = a.screenY || 0;\n  this.button = a.button;\n  this.keyCode = a.keyCode || 0;\n  this.charCode = a.charCode || (c == \"keypress\" ? a.keyCode : 0);\n  this.ctrlKey = a.ctrlKey;\n  this.altKey = a.altKey;\n  this.shiftKey = a.shiftKey;\n  this.metaKey = a.metaKey;\n  this.jc = wb ? a.metaKey : a.ctrlKey;\n  this.state = a.state;\n  this.vb = a;\n  delete this.Ra;\n  delete this.ia\n};\nq.z = function() {\n  Mb.za.z.call(this);\n  this.relatedTarget = this.currentTarget = this.target = this.vb = k\n};\nvar Q = {}, R = {}, z = {}, Nb = {};\nfunction Ob(a, b, c, d, e) {\n  if(b) {\n    if(s(b)) {\n      for(var f = 0;f < b.length;f++) {\n        Ob(a, b[f], c, d, e)\n      }\n      return k\n    }else {\n      var d = !!d, i = R;\n      b in i || (i[b] = {c:0, A:0});\n      i = i[b];\n      d in i || (i[d] = {c:0, A:0}, i.c++);\n      var i = i[d], l = ia(a), m;\n      i.A++;\n      if(i[l]) {\n        m = i[l];\n        for(f = 0;f < m.length;f++) {\n          if(i = m[f], i.wa == c && i.cb == e) {\n            if(i.ja) {\n              break\n            }\n            return m[f].key\n          }\n        }\n      }else {\n        m = i[l] = [], i.c++\n      }\n      f = Pb();\n      f.src = a;\n      i = new Hb;\n      i.La(c, f, a, b, d, e);\n      c = i.key;\n      f.key = c;\n      m.push(i);\n      Q[c] = i;\n      z[l] || (z[l] = []);\n      z[l].push(i);\n      a.addEventListener ? (a == r || !a.rb) && a.addEventListener(b, f, d) : a.attachEvent(b in Nb ? Nb[b] : Nb[b] = \"on\" + b, f);\n      return c\n    }\n  }else {\n    g(Error(\"Invalid event type\"))\n  }\n}\nfunction Pb() {\n  var a = Qb, b = Jb ? function(c) {\n    return a.call(b.src, b.key, c)\n  } : function(c) {\n    c = a.call(b.src, b.key, c);\n    if(!c) {\n      return c\n    }\n  };\n  return b\n}\nfunction Rb(a, b, c, d, e) {\n  if(s(b)) {\n    for(var f = 0;f < b.length;f++) {\n      Rb(a, b[f], c, d, e)\n    }\n  }else {\n    d = !!d;\n    a: {\n      f = R;\n      if(b in f && (f = f[b], d in f && (f = f[d], a = ia(a), f[a]))) {\n        a = f[a];\n        break a\n      }\n      a = k\n    }\n    if(a) {\n      for(f = 0;f < a.length;f++) {\n        if(a[f].wa == c && a[f].capture == d && a[f].cb == e) {\n          Sb(a[f].key);\n          break\n        }\n      }\n    }\n  }\n}\nfunction Sb(a) {\n  if(!Q[a]) {\n    return o\n  }\n  var b = Q[a];\n  if(b.ja) {\n    return o\n  }\n  var c = b.src, d = b.type, e = b.Lb, f = b.capture;\n  c.removeEventListener ? (c == r || !c.rb) && c.removeEventListener(d, e, f) : c.detachEvent && c.detachEvent(d in Nb ? Nb[d] : Nb[d] = \"on\" + d, e);\n  c = ia(c);\n  e = R[d][f][c];\n  if(z[c]) {\n    var i = z[c], l = Ha(i, b);\n    l >= 0 && A.splice.call(i, l, 1);\n    i.length == 0 && delete z[c]\n  }\n  b.ja = j;\n  e.Fb = j;\n  Tb(d, f, c, e);\n  delete Q[a];\n  return j\n}\nfunction Tb(a, b, c, d) {\n  if(!d.Ma && d.Fb) {\n    for(var e = 0, f = 0;e < d.length;e++) {\n      d[e].ja ? d[e].Lb.src = k : (e != f && (d[f] = d[e]), f++)\n    }\n    d.length = f;\n    d.Fb = o;\n    f == 0 && (delete R[a][b][c], R[a][b].c--, R[a][b].c == 0 && (delete R[a][b], R[a].c--), R[a].c == 0 && delete R[a])\n  }\n}\nfunction Ub(a) {\n  var b, c = 0, d = b == k;\n  b = !!b;\n  if(a == k) {\n    Ca(function(a) {\n      for(var e = a.length - 1;e >= 0;e--) {\n        var f = a[e];\n        if(d || b == f.capture) {\n          Sb(f.key), c++\n        }\n      }\n    })\n  }else {\n    if(a = ia(a), z[a]) {\n      for(var a = z[a], e = a.length - 1;e >= 0;e--) {\n        var f = a[e];\n        if(d || b == f.capture) {\n          Sb(f.key), c++\n        }\n      }\n    }\n  }\n}\nfunction Vb(a, b, c, d, e) {\n  var f = 1, b = ia(b);\n  if(a[b]) {\n    a.A--;\n    a = a[b];\n    a.Ma ? a.Ma++ : a.Ma = 1;\n    try {\n      for(var i = a.length, l = 0;l < i;l++) {\n        var m = a[l];\n        m && !m.ja && (f &= Wb(m, e) !== o)\n      }\n    }finally {\n      a.Ma--, Tb(c, d, b, a)\n    }\n  }\n  return Boolean(f)\n}\nfunction Wb(a, b) {\n  var c = a.handleEvent(b);\n  a.pb && Sb(a.key);\n  return c\n}\nfunction Qb(a, b) {\n  if(!Q[a]) {\n    return j\n  }\n  var c = Q[a], d = c.type, e = R;\n  if(!(d in e)) {\n    return j\n  }\n  var e = e[d], f, i;\n  if(!Jb) {\n    f = b || ea(\"window.event\");\n    var l = j in e, m = o in e;\n    if(l) {\n      if(f.keyCode < 0 || f.returnValue != h) {\n        return j\n      }\n      a: {\n        var n = o;\n        if(f.keyCode == 0) {\n          try {\n            f.keyCode = -1;\n            break a\n          }catch(x) {\n            n = j\n          }\n        }\n        if(n || f.returnValue == h) {\n          f.returnValue = j\n        }\n      }\n    }\n    n = new Mb;\n    n.La(f, this);\n    f = j;\n    try {\n      if(l) {\n        for(var y = [], wa = n.currentTarget;wa;wa = wa.parentNode) {\n          y.push(wa)\n        }\n        i = e[j];\n        i.A = i.c;\n        for(var F = y.length - 1;!n.ia && F >= 0 && i.A;F--) {\n          n.currentTarget = y[F], f &= Vb(i, y[F], d, j, n)\n        }\n        if(m) {\n          i = e[o];\n          i.A = i.c;\n          for(F = 0;!n.ia && F < y.length && i.A;F++) {\n            n.currentTarget = y[F], f &= Vb(i, y[F], d, o, n)\n          }\n        }\n      }else {\n        f = Wb(c, n)\n      }\n    }finally {\n      if(y) {\n        y.length = 0\n      }\n      n.Ga()\n    }\n    return f\n  }\n  d = new Mb(b, this);\n  try {\n    f = Wb(c, d)\n  }finally {\n    d.Ga()\n  }\n  return f\n}\n;function Xb() {\n}\nw(Xb, O);\nq = Xb.prototype;\nq.rb = j;\nq.jb = k;\nq.addEventListener = function(a, b, c, d) {\n  Ob(this, a, b, c, d)\n};\nq.removeEventListener = function(a, b, c, d) {\n  Rb(this, a, b, c, d)\n};\nq.dispatchEvent = function(a) {\n  var b = a.type || a, c = R;\n  if(b in c) {\n    if(t(a)) {\n      a = new P(a, this)\n    }else {\n      if(a instanceof P) {\n        a.target = a.target || this\n      }else {\n        var d = a, a = new P(b, this);\n        Ga(a, d)\n      }\n    }\n    var d = 1, e, c = c[b], b = j in c, f;\n    if(b) {\n      e = [];\n      for(f = this;f;f = f.jb) {\n        e.push(f)\n      }\n      f = c[j];\n      f.A = f.c;\n      for(var i = e.length - 1;!a.ia && i >= 0 && f.A;i--) {\n        a.currentTarget = e[i], d &= Vb(f, e[i], a.type, j, a) && a.Ra != o\n      }\n    }\n    if(o in c) {\n      if(f = c[o], f.A = f.c, b) {\n        for(i = 0;!a.ia && i < e.length && f.A;i++) {\n          a.currentTarget = e[i], d &= Vb(f, e[i], a.type, o, a) && a.Ra != o\n        }\n      }else {\n        for(e = this;!a.ia && e && f.A;e = e.jb) {\n          a.currentTarget = e, d &= Vb(f, e, a.type, o, a) && a.Ra != o\n        }\n      }\n    }\n    a = Boolean(d)\n  }else {\n    a = j\n  }\n  return a\n};\nq.z = function() {\n  Xb.za.z.call(this);\n  Ub(this);\n  this.jb = k\n};\nfunction Yb(a, b) {\n  this.sa = a || 1;\n  this.Ba = b || Zb;\n  this.Xa = u(this.nc, this);\n  this.ib = v()\n}\nw(Yb, Xb);\nYb.prototype.enabled = o;\nvar Zb = r.window;\nq = Yb.prototype;\nq.Q = k;\nq.setInterval = function(a) {\n  this.sa = a;\n  this.Q && this.enabled ? (this.stop(), this.start()) : this.Q && this.stop()\n};\nq.nc = function() {\n  if(this.enabled) {\n    var a = v() - this.ib;\n    if(a > 0 && a < this.sa * 0.8) {\n      this.Q = this.Ba.setTimeout(this.Xa, this.sa - a)\n    }else {\n      if(this.dispatchEvent($b), this.enabled) {\n        this.Q = this.Ba.setTimeout(this.Xa, this.sa), this.ib = v()\n      }\n    }\n  }\n};\nq.start = function() {\n  this.enabled = j;\n  if(!this.Q) {\n    this.Q = this.Ba.setTimeout(this.Xa, this.sa), this.ib = v()\n  }\n};\nq.stop = function() {\n  this.enabled = o;\n  if(this.Q) {\n    this.Ba.clearTimeout(this.Q), this.Q = k\n  }\n};\nq.z = function() {\n  Yb.za.z.call(this);\n  this.stop();\n  delete this.Ba\n};\nvar $b = \"tick\";\nfunction ac(a) {\n  this.e = a;\n  this.j = []\n}\nw(ac, O);\nvar bc = [];\nac.prototype.z = function() {\n  ac.za.z.call(this);\n  Ia(this.j, Sb);\n  this.j.length = 0\n};\nac.prototype.handleEvent = function() {\n  g(Error(\"EventHandler.handleEvent not implemented\"))\n};\nfunction S(a, b, c, d, e) {\n  this.h = a;\n  this.a = b;\n  this.X = c;\n  this.B = d;\n  this.ya = e || 1;\n  this.Aa = cc;\n  this.ub = new ac(this);\n  this.Oa = new Yb;\n  this.Oa.setInterval(dc)\n}\nq = S.prototype;\nq.t = k;\nq.F = o;\nq.oa = k;\nq.mb = k;\nq.ka = k;\nq.Ca = k;\nq.S = k;\nq.u = k;\nq.U = k;\nq.p = k;\nq.Ea = 0;\nq.G = k;\nq.ma = k;\nq.q = k;\nq.i = -1;\nq.Ob = j;\nq.ea = o;\nvar cc = 45E3, dc = 250;\nfunction ec(a, b) {\n  switch(a) {\n    case 0:\n      return\"Non-200 return code (\" + b + \")\";\n    case 1:\n      return\"XMLHTTP failure (no data)\";\n    case 2:\n      return\"HttpConnection timeout\";\n    default:\n      return\"Unknown error\"\n  }\n}\nvar fc = {}, gc = {};\nq = S.prototype;\nq.W = p(\"t\");\nq.setTimeout = p(\"Aa\");\nfunction hc(a, b, c) {\n  a.Ca = 1;\n  a.S = J(b.l());\n  a.U = c;\n  a.sb = j;\n  ic(a, k)\n}\nfunction jc(a, b, c, d, e) {\n  a.Ca = 1;\n  a.S = J(b.l());\n  a.U = k;\n  a.sb = c;\n  if(e) {\n    a.Ob = o\n  }\n  ic(a, d)\n}\nfunction ic(a, b) {\n  a.ka = v();\n  kc(a);\n  a.u = a.S.l();\n  db(a.u, \"t\", a.ya);\n  a.Ea = 0;\n  a.p = a.h.$a(a.h.Sa() ? b : k);\n  Ob(a.p, \"readystatechange\", a.Sb, o, a);\n  var c;\n  if(a.t) {\n    c = a.t;\n    var d = {}, e;\n    for(e in c) {\n      d[e] = c[e]\n    }\n    c = d\n  }else {\n    c = {}\n  }\n  a.U ? (a.ma = \"POST\", c[\"Content-Type\"] = \"application/x-www-form-urlencoded\", a.p.send(a.u, a.ma, a.U, c)) : (a.ma = \"GET\", a.Ob && !M && (c.Connection = \"close\"), a.p.send(a.u, a.ma, k, c));\n  if(d = a.U) {\n    c = \"\";\n    d = d.split(\"&\");\n    for(e = 0;e < d.length;e++) {\n      var f = d[e].split(\"=\");\n      if(f.length > 1) {\n        var i = f[0], f = f[1], l = i.split(\"_\");\n        c += l.length >= 2 && l[1] == \"type\" ? i + \"=\" + f + \"&\" : i + \"=redacted&\"\n      }\n    }\n  }else {\n    c = k\n  }\n  a.a.info(\"XMLHTTP REQ (\" + a.B + \") [attempt \" + a.ya + \"]: \" + a.ma + \"\\n\" + a.u + \"\\n\" + c)\n}\nq.Sb = function(a) {\n  a = a.target;\n  try {\n    if(a == this.p) {\n      a: {\n        var b = T(this.p);\n        if(L || M && !N(\"420+\")) {\n          if(b < 4) {\n            break a\n          }\n        }else {\n          if(b < 3 || b == 3 && !tb && !lc(this.p)) {\n            break a\n          }\n        }\n        mc(this);\n        var c = nc(this.p);\n        this.i = c;\n        var d = lc(this.p);\n        d || this.a.info(\"No response text for uri \" + this.u + \" status \" + c);\n        this.F = c == 200;\n        this.a.info(\"XMLHTTP RESP (\" + this.B + \") [ attempt \" + this.ya + \"]: \" + this.ma + \"\\n\" + this.u + \"\\n\" + b + \" \" + c);\n        if(this.F) {\n          b == 4 && oc(this);\n          if(this.sb) {\n            if(pc(this, b, d), tb && b == 3) {\n              var e = this.ub, f = this.Oa, i = this.kc, c = $b;\n              s(c) || (bc[0] = c, c = bc);\n              for(d = 0;d < c.length;d++) {\n                e.j.push(Ob(f, c[d], i || e, o, e.e || e))\n              }\n              this.Oa.start()\n            }\n          }else {\n            qc(this.a, this.B, d, k), rc(this, d)\n          }\n          if(this.F && !this.ea) {\n            b == 4 ? this.h.ha(this) : (this.F = o, kc(this))\n          }\n        }else {\n          c == 400 && d.indexOf(\"Unknown SID\") > 0 ? (this.q = 3, U(sc)) : (this.q = 0, U(tc)), qc(this.a, this.B, d), oc(this), uc(this)\n        }\n      }\n    }else {\n      this.a.na(\"Called back with an unexpected xmlhttp\")\n    }\n  }catch(l) {\n    this.a.info(\"Failed call to OnXmlHttpReadyStateChanged_\"), this.p && lc(this.p) ? vc(this.a, l, \"ResponseText: \" + lc(this.p)) : vc(this.a, l, \"No response text\")\n  }finally {\n  }\n};\nfunction pc(a, b, c) {\n  for(var d = j;!a.ea && a.Ea < c.length;) {\n    var e = wc(a, c);\n    if(e == gc) {\n      if(b == 4) {\n        a.q = 4, U(xc), d = o\n      }\n      qc(a.a, a.B, k, \"[Incomplete Response]\");\n      break\n    }else {\n      if(e == fc) {\n        a.q = 4;\n        U(yc);\n        qc(a.a, a.B, c, \"[Invalid Chunk]\");\n        d = o;\n        break\n      }else {\n        qc(a.a, a.B, e, k), rc(a, e)\n      }\n    }\n  }\n  if(b == 4 && c.length == 0) {\n    a.q = 1, U(zc), d = o\n  }\n  a.F = a.F && d;\n  d || (qc(a.a, a.B, c, \"[Invalid Chunked Response]\"), oc(a), uc(a))\n}\nq.kc = function() {\n  var a = T(this.p), b = lc(this.p);\n  this.Ea < b.length && (mc(this), pc(this, a, b), this.F && a != 4 && kc(this))\n};\nfunction wc(a, b) {\n  var c = a.Ea, d = b.indexOf(\"\\n\", c);\n  if(d == -1) {\n    return gc\n  }\n  c = Number(b.substring(c, d));\n  if(isNaN(c)) {\n    return fc\n  }\n  d += 1;\n  if(d + c > b.length) {\n    return gc\n  }\n  var e = b.substr(d, c);\n  a.Ea = d + c;\n  return e\n}\nfunction Ac(a, b) {\n  a.ka = v();\n  kc(a);\n  a.G = new ActiveXObject(\"htmlfile\");\n  var c = \"\", d = \"<html><body>\";\n  if(b) {\n    c = window.location.hostname, d += '<script>document.domain=\"' + c + '\"<\\/script>'\n  }\n  d += \"</body></html>\";\n  a.G.open();\n  a.G.write(d);\n  a.G.close();\n  a.G.parentWindow.m = u(a.hc, a);\n  a.G.parentWindow.d = u(a.Kb, a, j);\n  a.G.parentWindow.rpcClose = u(a.Kb, a, o);\n  d = a.G.createElement(\"div\");\n  a.G.parentWindow.document.body.appendChild(d);\n  a.u = a.S.l();\n  G(a.u, \"DOMAIN\", c);\n  G(a.u, \"t\", a.ya);\n  d.innerHTML = '<iframe src=\"' + a.u + '\"></iframe>';\n  a.a.info(\"TRIDENT REQ (\" + a.B + \") [ attempt \" + a.ya + \"]: GET\\n\" + a.u)\n}\nq.hc = function(a) {\n  V(u(this.gc, this, a), 0)\n};\nq.gc = function(a) {\n  if(!this.ea) {\n    var b = this.a;\n    b.info(\"TRIDENT TEXT (\" + this.B + \"): \" + Bc(b, a));\n    mc(this);\n    rc(this, a);\n    kc(this)\n  }\n};\nq.Kb = function(a) {\n  V(u(this.fc, this, a), 0)\n};\nq.fc = function(a) {\n  if(!this.ea) {\n    this.a.info(\"TRIDENT TEXT (\" + this.B + \"): \" + a ? \"success\" : \"failure\"), mc(this), oc(this), this.F = a, this.h.ha(this)\n  }\n};\nq.Zb = function() {\n  mc(this);\n  this.h.ha(this)\n};\nq.cancel = function() {\n  this.ea = j;\n  mc(this);\n  oc(this)\n};\nfunction kc(a) {\n  a.mb = v() + a.Aa;\n  Cc(a, a.Aa)\n}\nfunction Cc(a, b) {\n  a.oa != k && g(Error(\"WatchDog timer not null\"));\n  a.oa = V(u(a.ic, a), b)\n}\nfunction mc(a) {\n  if(a.oa) {\n    r.clearTimeout(a.oa), a.oa = k\n  }\n}\nq.ic = function() {\n  this.oa = k;\n  var a = v();\n  a - this.mb >= 0 ? (this.F && this.a.I(\"Received watchdog timeout even though request loaded successfully\"), this.a.info(\"TIMEOUT: \" + this.u), oc(this), this.q = 2, U(Dc), uc(this)) : (this.a.na(\"WatchDog timer called too early\"), Cc(this, this.mb - a))\n};\nfunction uc(a) {\n  !a.h.Ab() && !a.ea && a.h.ha(a)\n}\nfunction oc(a) {\n  a.Oa.stop();\n  var b = a.ub;\n  Ia(b.j, Sb);\n  b.j.length = 0;\n  if(a.p) {\n    b = a.p, a.p = k, Rb(b, \"readystatechange\", a.Sb, o, a), b.abort()\n  }\n  if(a.G) {\n    a.G = k\n  }\n}\nq.yb = ba(\"q\");\nfunction rc(a, b) {\n  try {\n    a.h.Hb(a, b)\n  }catch(c) {\n    vc(a.a, c, \"Error in httprequest callback\")\n  }\n}\n;function Ec(a) {\n  return eval(\"(\" + a + \")\")\n}\nfunction Fc() {\n  this.Qa = h\n}\nfunction Gc(a) {\n  var b = [];\n  Hc(new Fc, a, b);\n  return b.join(\"\")\n}\nfunction Hc(a, b, c) {\n  switch(typeof b) {\n    case \"string\":\n      Ic(b, c);\n      break;\n    case \"number\":\n      c.push(isFinite(b) && !isNaN(b) ? b : \"null\");\n      break;\n    case \"boolean\":\n      c.push(b);\n      break;\n    case \"undefined\":\n      c.push(\"null\");\n      break;\n    case \"object\":\n      if(b == k) {\n        c.push(\"null\");\n        break\n      }\n      if(s(b)) {\n        var d = b.length;\n        c.push(\"[\");\n        for(var e = \"\", f = 0;f < d;f++) {\n          c.push(e), e = b[f], Hc(a, a.Qa ? a.Qa.call(b, String(f), e) : e, c), e = \",\"\n        }\n        c.push(\"]\");\n        break\n      }\n      c.push(\"{\");\n      d = \"\";\n      for(f in b) {\n        Object.prototype.hasOwnProperty.call(b, f) && (e = b[f], typeof e != \"function\" && (c.push(d), Ic(f, c), c.push(\":\"), Hc(a, a.Qa ? a.Qa.call(b, f, e) : e, c), d = \",\"))\n      }\n      c.push(\"}\");\n      break;\n    case \"function\":\n      break;\n    default:\n      g(Error(\"Unknown type: \" + typeof b))\n  }\n}\nvar Jc = {'\"':'\\\\\"', \"\\\\\":\"\\\\\\\\\", \"/\":\"\\\\/\", \"\\u0008\":\"\\\\b\", \"\\u000c\":\"\\\\f\", \"\\n\":\"\\\\n\", \"\\r\":\"\\\\r\", \"\\t\":\"\\\\t\", \"\\u000b\":\"\\\\u000b\"}, Kc = /\\uffff/.test(\"\\uffff\") ? /[\\\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g : /[\\\\\\\"\\x00-\\x1f\\x7f-\\xff]/g;\nfunction Ic(a, b) {\n  b.push('\"', a.replace(Kc, function(a) {\n    if(a in Jc) {\n      return Jc[a]\n    }\n    var b = a.charCodeAt(0), e = \"\\\\u\";\n    b < 16 ? e += \"000\" : b < 256 ? e += \"00\" : b < 4096 && (e += \"0\");\n    return Jc[a] = e + b.toString(16)\n  }), '\"')\n}\n;function Lc(a) {\n  return Mc(a || arguments.callee.caller, [])\n}\nfunction Mc(a, b) {\n  var c = [];\n  if(Ha(b, a) >= 0) {\n    c.push(\"[...circular reference...]\")\n  }else {\n    if(a && b.length < 50) {\n      c.push(Nc(a) + \"(\");\n      for(var d = a.arguments, e = 0;e < d.length;e++) {\n        e > 0 && c.push(\", \");\n        var f;\n        f = d[e];\n        switch(typeof f) {\n          case \"object\":\n            f = f ? \"object\" : \"null\";\n            break;\n          case \"string\":\n            break;\n          case \"number\":\n            f = String(f);\n            break;\n          case \"boolean\":\n            f = f ? \"true\" : \"false\";\n            break;\n          case \"function\":\n            f = (f = Nc(f)) ? f : \"[fn]\";\n            break;\n          default:\n            f = typeof f\n        }\n        f.length > 40 && (f = f.substr(0, 40) + \"...\");\n        c.push(f)\n      }\n      b.push(a);\n      c.push(\")\\n\");\n      try {\n        c.push(Mc(a.caller, b))\n      }catch(i) {\n        c.push(\"[exception trying to get caller]\\n\")\n      }\n    }else {\n      a ? c.push(\"[...long stack...]\") : c.push(\"[end]\")\n    }\n  }\n  return c.join(\"\")\n}\nfunction Nc(a) {\n  if(Oc[a]) {\n    return Oc[a]\n  }\n  a = String(a);\n  if(!Oc[a]) {\n    var b = /function ([^\\(]+)/.exec(a);\n    Oc[a] = b ? b[1] : \"[Anonymous]\"\n  }\n  return Oc[a]\n}\nvar Oc = {};\nfunction Pc(a, b, c, d, e) {\n  this.reset(a, b, c, d, e)\n}\nPc.prototype.lc = 0;\nPc.prototype.xb = k;\nPc.prototype.wb = k;\nvar Qc = 0;\nPc.prototype.reset = function(a, b, c, d, e) {\n  this.lc = typeof e == \"number\" ? e : Qc++;\n  this.wc = d || v();\n  this.va = a;\n  this.ac = b;\n  this.qc = c;\n  delete this.xb;\n  delete this.wb\n};\nPc.prototype.Pb = p(\"va\");\nfunction W(a) {\n  this.bc = a\n}\nW.prototype.Na = k;\nW.prototype.va = k;\nW.prototype.Ya = k;\nW.prototype.zb = k;\nfunction Rc(a, b) {\n  this.name = a;\n  this.value = b\n}\nRc.prototype.toString = ba(\"name\");\nvar Sc = new Rc(\"SEVERE\", 1E3), Tc = new Rc(\"WARNING\", 900), Uc = new Rc(\"INFO\", 800), Vc = new Rc(\"CONFIG\", 700), Wc = new Rc(\"FINE\", 500);\nq = W.prototype;\nq.getParent = ba(\"Na\");\nq.Pb = p(\"va\");\nfunction Xc(a) {\n  if(a.va) {\n    return a.va\n  }\n  if(a.Na) {\n    return Xc(a.Na)\n  }\n  Aa(\"Root logger has no level set.\");\n  return k\n}\nq.log = function(a, b, c) {\n  if(a.value >= Xc(this).value) {\n    a = this.Yb(a, b, c);\n    b = \"log:\" + a.ac;\n    r.console && (r.console.timeStamp ? r.console.timeStamp(b) : r.console.markTimeline && r.console.markTimeline(b));\n    r.msWriteProfilerMark && r.msWriteProfilerMark(b);\n    for(b = this;b;) {\n      var c = b, d = a;\n      if(c.zb) {\n        for(var e = 0, f = h;f = c.zb[e];e++) {\n          f(d)\n        }\n      }\n      b = b.getParent()\n    }\n  }\n};\nq.Yb = function(a, b, c) {\n  var d = new Pc(a, String(b), this.bc);\n  if(c) {\n    d.xb = c;\n    var e;\n    var f = arguments.callee.caller;\n    try {\n      var i;\n      var l = ea(\"window.location.href\");\n      if(t(c)) {\n        i = {message:c, name:\"Unknown error\", lineNumber:\"Not available\", fileName:l, stack:\"Not available\"}\n      }else {\n        var m, n, x = o;\n        try {\n          m = c.lineNumber || c.pc || \"Not available\"\n        }catch(y) {\n          m = \"Not available\", x = j\n        }\n        try {\n          n = c.fileName || c.filename || c.sourceURL || l\n        }catch(wa) {\n          n = \"Not available\", x = j\n        }\n        i = x || !c.lineNumber || !c.fileName || !c.stack ? {message:c.message, name:c.name, lineNumber:m, fileName:n, stack:c.stack || \"Not available\"} : c\n      }\n      e = \"Message: \" + ra(i.message) + '\\nUrl: <a href=\"view-source:' + i.fileName + '\" target=\"_new\">' + i.fileName + \"</a>\\nLine: \" + i.lineNumber + \"\\n\\nBrowser stack:\\n\" + ra(i.stack + \"-> \") + \"[end]\\n\\nJS stack traversal:\\n\" + ra(Lc(f) + \"-> \")\n    }catch(F) {\n      e = \"Exception trying to expose exception! You win, we lose. \" + F\n    }\n    d.wb = e\n  }\n  return d\n};\nq.I = function(a, b) {\n  this.log(Sc, a, b)\n};\nq.na = function(a, b) {\n  this.log(Tc, a, b)\n};\nq.info = function(a, b) {\n  this.log(Uc, a, b)\n};\nfunction X(a, b) {\n  a.log(Wc, b, h)\n}\nvar Yc = {}, Zc = k;\nfunction $c(a) {\n  Zc || (Zc = new W(\"\"), Yc[\"\"] = Zc, Zc.Pb(Vc));\n  var b;\n  if(!(b = Yc[a])) {\n    b = new W(a);\n    var c = a.lastIndexOf(\".\"), d = a.substr(c + 1), c = $c(a.substr(0, c));\n    if(!c.Ya) {\n      c.Ya = {}\n    }\n    c.Ya[d] = b;\n    b.Na = c;\n    Yc[a] = b\n  }\n  return b\n}\n;function ad() {\n  this.o = $c(\"goog.net.BrowserChannel\")\n}\nfunction qc(a, b, c, d) {\n  a.info(\"XMLHTTP TEXT (\" + b + \"): \" + Bc(a, c) + (d ? \" \" + d : \"\"))\n}\nfunction bd(a, b) {\n  a.info(b)\n}\nfunction vc(a, b, c) {\n  a.I((c || \"Exception\") + b)\n}\nad.prototype.info = function(a) {\n  this.o.info(a)\n};\nad.prototype.na = function(a) {\n  this.o.na(a)\n};\nad.prototype.I = function(a) {\n  this.o.I(a)\n};\nfunction Bc(a, b) {\n  if(!b || b == cd) {\n    return b\n  }\n  try {\n    for(var c = Ec(b), d = 0;d < c.length;d++) {\n      if(s(c[d])) {\n        var e = c[d];\n        if(!(e.length < 2)) {\n          var f = e[1];\n          if(s(f) && !(f.length < 1)) {\n            var i = f[0];\n            if(i != \"noop\" && i != \"stop\") {\n              for(var l = 1;l < f.length;l++) {\n                f[l] = \"\"\n              }\n            }\n          }\n        }\n      }\n    }\n    return Gc(c)\n  }catch(m) {\n    return a.info(\"Exception parsing expected JS array - probably was not JS\"), b\n  }\n}\n;function dd(a) {\n  this.headers = new Na;\n  this.pa = a || k\n}\nw(dd, Xb);\ndd.prototype.o = $c(\"goog.net.XhrIo\");\nvar ed = /^https?$/i;\nq = dd.prototype;\nq.R = o;\nq.f = k;\nq.Ua = k;\nq.hb = \"\";\nq.Cb = \"\";\nq.ua = 0;\nq.q = \"\";\nq.bb = o;\nq.Ka = o;\nq.fb = o;\nq.aa = o;\nq.Ta = 0;\nq.ca = k;\nq.Nb = \"\";\nq.oc = o;\nq.send = function(a, b, c, d) {\n  this.f && g(Error(\"[goog.net.XhrIo] Object is active with another request\"));\n  b = b ? b.toUpperCase() : \"GET\";\n  this.hb = a;\n  this.q = \"\";\n  this.ua = 0;\n  this.Cb = b;\n  this.bb = o;\n  this.R = j;\n  this.f = this.pa ? kb(this.pa) : kb(ib);\n  this.Ua = this.pa ? this.pa.Fa || (this.pa.Fa = mb(this.pa)) : ib.Fa || (ib.Fa = mb(ib));\n  this.f.onreadystatechange = u(this.Gb, this);\n  try {\n    X(this.o, Y(this, \"Opening Xhr\")), this.fb = j, this.f.open(b, a, j), this.fb = o\n  }catch(e) {\n    X(this.o, Y(this, \"Error opening Xhr: \" + e.message));\n    fd(this, e);\n    return\n  }\n  var a = c || \"\", f = this.headers.l();\n  d && B(d, function(a, b) {\n    f.set(b, a)\n  });\n  b == \"POST\" && !f.K(\"Content-Type\") && f.set(\"Content-Type\", \"application/x-www-form-urlencoded;charset=utf-8\");\n  B(f, function(a, b) {\n    this.f.setRequestHeader(b, a)\n  }, this);\n  if(this.Nb) {\n    this.f.responseType = this.Nb\n  }\n  if(\"withCredentials\" in this.f) {\n    this.f.withCredentials = this.oc\n  }\n  try {\n    if(this.ca) {\n      Zb.clearTimeout(this.ca), this.ca = k\n    }\n    if(this.Ta > 0) {\n      X(this.o, Y(this, \"Will abort after \" + this.Ta + \"ms if incomplete\")), this.ca = Zb.setTimeout(u(this.Aa, this), this.Ta)\n    }\n    X(this.o, Y(this, \"Sending request\"));\n    this.Ka = j;\n    this.f.send(a);\n    this.Ka = o\n  }catch(i) {\n    X(this.o, Y(this, \"Send error: \" + i.message)), fd(this, i)\n  }\n};\nq.Aa = function() {\n  if(typeof da != \"undefined\" && this.f) {\n    this.q = \"Timed out after \" + this.Ta + \"ms, aborting\", this.ua = 8, X(this.o, Y(this, this.q)), this.dispatchEvent(\"timeout\"), this.abort(8)\n  }\n};\nfunction fd(a, b) {\n  a.R = o;\n  if(a.f) {\n    a.aa = j, a.f.abort(), a.aa = o\n  }\n  a.q = b;\n  a.ua = 5;\n  gd(a);\n  hd(a)\n}\nfunction gd(a) {\n  if(!a.bb) {\n    a.bb = j, a.dispatchEvent(\"complete\"), a.dispatchEvent(\"error\")\n  }\n}\nq.abort = function(a) {\n  if(this.f && this.R) {\n    X(this.o, Y(this, \"Aborting\")), this.R = o, this.aa = j, this.f.abort(), this.aa = o, this.ua = a || 7, this.dispatchEvent(\"complete\"), this.dispatchEvent(\"abort\"), hd(this)\n  }\n};\nq.z = function() {\n  if(this.f) {\n    if(this.R) {\n      this.R = o, this.aa = j, this.f.abort(), this.aa = o\n    }\n    hd(this, j)\n  }\n  dd.za.z.call(this)\n};\nq.Gb = function() {\n  !this.fb && !this.Ka && !this.aa ? this.ec() : id(this)\n};\nq.ec = function() {\n  id(this)\n};\nfunction id(a) {\n  if(a.R && typeof da != \"undefined\") {\n    if(a.Ua[1] && T(a) == 4 && nc(a) == 2) {\n      X(a.o, Y(a, \"Local request error detected and ignored\"))\n    }else {\n      if(a.Ka && T(a) == 4) {\n        Zb.setTimeout(u(a.Gb, a), 0)\n      }else {\n        if(a.dispatchEvent(\"readystatechange\"), T(a) == 4) {\n          X(a.o, Y(a, \"Request complete\"));\n          a.R = o;\n          var b = nc(a), c;\n          a: {\n            switch(b) {\n              case 200:\n              ;\n              case 201:\n              ;\n              case 202:\n              ;\n              case 204:\n              ;\n              case 304:\n              ;\n              case 1223:\n                c = j;\n                break a;\n              default:\n                c = o\n            }\n          }\n          if(!c) {\n            if(b = b === 0) {\n              b = String(a.hb).match(Ba)[1] || k;\n              if(!b && self.location) {\n                b = self.location.protocol, b = b.substr(0, b.length - 1)\n              }\n              b = !ed.test(b ? b.toLowerCase() : \"\")\n            }\n            c = b\n          }\n          if(c) {\n            a.dispatchEvent(\"complete\"), a.dispatchEvent(\"success\")\n          }else {\n            a.ua = 6;\n            var d;\n            try {\n              d = T(a) > 2 ? a.f.statusText : \"\"\n            }catch(e) {\n              X(a.o, \"Can not get status: \" + e.message), d = \"\"\n            }\n            a.q = d + \" [\" + nc(a) + \"]\";\n            gd(a)\n          }\n          hd(a)\n        }\n      }\n    }\n  }\n}\nfunction hd(a, b) {\n  if(a.f) {\n    var c = a.f, d = a.Ua[0] ? fa : k;\n    a.f = k;\n    a.Ua = k;\n    if(a.ca) {\n      Zb.clearTimeout(a.ca), a.ca = k\n    }\n    b || a.dispatchEvent(\"ready\");\n    try {\n      c.onreadystatechange = d\n    }catch(e) {\n      a.o.I(\"Problem encountered resetting onreadystatechange: \" + e.message)\n    }\n  }\n}\nq.isActive = function() {\n  return!!this.f\n};\nfunction T(a) {\n  return a.f ? a.f.readyState : 0\n}\nfunction nc(a) {\n  try {\n    return T(a) > 2 ? a.f.status : -1\n  }catch(b) {\n    return a.o.na(\"Can not get status: \" + b.message), -1\n  }\n}\nfunction lc(a) {\n  try {\n    return a.f ? a.f.responseText : \"\"\n  }catch(b) {\n    return X(a.o, \"Can not get responseText: \" + b.message), \"\"\n  }\n}\nq.yb = function() {\n  return t(this.q) ? this.q : String(this.q)\n};\nfunction Y(a, b) {\n  return b + \" [\" + a.Cb + \" \" + a.hb + \" \" + nc(a) + \"]\"\n}\n;function jd() {\n  this.Mb = v()\n}\nnew jd;\njd.prototype.set = p(\"Mb\");\njd.prototype.reset = function() {\n  this.set(v())\n};\njd.prototype.get = ba(\"Mb\");\nfunction kd(a, b, c, d, e) {\n  bd(new ad, \"TestLoadImageWithRetries: \" + e);\n  if(d == 0) {\n    c(o)\n  }else {\n    var f = e || 0;\n    d--;\n    ld(a, b, function(e) {\n      e ? c(j) : r.setTimeout(function() {\n        kd(a, b, c, d, f)\n      }, f)\n    })\n  }\n}\nfunction ld(a, b, c) {\n  var d = new ad;\n  d.info(\"TestLoadImage: loading \" + a);\n  var e = new Image, f = k;\n  createHandler = function(a, b) {\n    return function() {\n      try {\n        d.info(\"TestLoadImage: \" + b), e.onload = k, e.onerror = k, e.onabort = k, e.ontimeout = k, r.clearTimeout(f), c(a)\n      }catch(m) {\n        vc(d, m)\n      }\n    }\n  };\n  e.onload = createHandler(j, \"loaded\");\n  e.onerror = createHandler(o, \"error\");\n  e.onabort = createHandler(o, \"abort\");\n  e.ontimeout = createHandler(o, \"timeout\");\n  f = r.setTimeout(function() {\n    if(e.ontimeout) {\n      e.ontimeout()\n    }\n  }, b);\n  e.src = a\n}\n;function md(a, b) {\n  this.h = a;\n  this.a = b\n}\nq = md.prototype;\nq.t = k;\nq.v = k;\nq.Pa = o;\nq.Qb = k;\nq.Ia = k;\nq.gb = k;\nq.r = k;\nq.b = k;\nq.i = -1;\nq.N = k;\nq.Wa = k;\nq.W = p(\"t\");\nq.Za = function(a) {\n  this.r = a;\n  a = nd(this.h, this.r);\n  U(od);\n  db(a, \"MODE\", \"init\");\n  this.v = new S(this, this.a, h, h, h);\n  this.v.W(this.t);\n  jc(this.v, a, o, k, j);\n  this.b = 0;\n  this.Qb = v()\n};\nq.Vb = function(a) {\n  a ? (this.b = 2, pd(this)) : (U(qd), a = this.h, a.a.info(\"Test Connection Blocked\"), a.i = a.Y.i, Z(a, 9))\n};\nfunction pd(a) {\n  a.a.info(\"TestConnection: starting stage 2\");\n  a.v = new S(a, a.a, h, h, h);\n  a.v.W(a.t);\n  var b = rd(a.h, a.N, a.r);\n  U(sd);\n  if(L) {\n    db(b, \"TYPE\", \"html\");\n    var c = a.v, a = Boolean(a.N);\n    c.Ca = 3;\n    c.S = J(b.l());\n    Ac(c, a)\n  }else {\n    db(b, \"TYPE\", \"xmlhttp\"), jc(a.v, b, o, a.N, o)\n  }\n}\nq.$a = function(a) {\n  return this.h.$a(a)\n};\nq.abort = function() {\n  if(this.v) {\n    this.v.cancel(), this.v = k\n  }\n  this.i = -1\n};\nq.Ab = ca(o);\nq.Hb = function(a, b) {\n  this.i = a.i;\n  if(this.b == 0) {\n    if(this.a.info(\"TestConnection: Got data for stage 1\"), b) {\n      try {\n        var c = Ec(b)\n      }catch(d) {\n        vc(this.a, d);\n        td(this.h, this);\n        return\n      }\n      this.N = this.h.correctHostPrefix(c[0]);\n      this.Wa = c[1]\n    }else {\n      this.a.info(\"TestConnection: Null responseText\"), td(this.h, this)\n    }\n  }else {\n    if(this.b == 2) {\n      if(this.Pa) {\n        U(ud), this.gb = v()\n      }else {\n        if(b == \"11111\") {\n          if(U(vd), this.Pa = j, this.Ia = v(), c = this.Ia - this.Qb, !L || c < 500) {\n            this.i = 200, this.v.cancel(), this.a.info(\"Test connection succeeded; using streaming connection\"), U(wd), xd(this.h, this, j)\n          }\n        }else {\n          U(yd), this.Ia = this.gb = v(), this.Pa = o\n        }\n      }\n    }\n  }\n};\nq.ha = function() {\n  this.i = this.v.i;\n  if(this.v.F) {\n    if(this.b == 0) {\n      if(this.a.info(\"TestConnection: request complete for initial check\"), this.Wa) {\n        this.b = 1;\n        var a = zd(this.h, this.Wa, \"/mail/images/cleardot.gif\");\n        J(a);\n        kd(a.toString(), 5E3, u(this.Vb, this), 3, 2E3)\n      }else {\n        this.b = 2, pd(this)\n      }\n    }else {\n      this.b == 2 && (this.a.info(\"TestConnection: request complete for stage 2\"), a = o, (a = !L ? this.Pa : this.gb - this.Ia < 200 ? o : j) ? (this.a.info(\"Test connection succeeded; using streaming connection\"), U(wd), xd(this.h, this, j)) : (this.a.info(\"Test connection failed; not using streaming\"), U(Ad), xd(this.h, this, o)))\n    }\n  }else {\n    this.a.info(\"TestConnection: request failed, in state \" + this.b), this.b == 0 ? U(Bd) : this.b == 2 && U(Cd), td(this.h, this)\n  }\n};\nq.Sa = function() {\n  return this.h.Sa()\n};\nq.isActive = function() {\n  return this.h.isActive()\n};\nfunction Dd(a) {\n  this.qb = a;\n  this.b = Ed;\n  this.s = [];\n  this.P = [];\n  this.a = new ad\n}\nfunction Fd(a, b) {\n  this.Eb = a;\n  this.map = b\n}\nq = Dd.prototype;\nq.t = k;\nq.qa = k;\nq.n = k;\nq.k = k;\nq.r = k;\nq.Ja = k;\nq.ob = k;\nq.N = k;\nq.Ub = j;\nq.xa = 0;\nq.cc = 0;\nq.Ha = o;\nq.e = k;\nq.C = k;\nq.J = k;\nq.Z = k;\nq.Y = k;\nq.lb = k;\nq.Tb = j;\nq.ta = -1;\nq.Db = -1;\nq.i = -1;\nq.T = 0;\nq.da = 0;\nq.fa = 8;\nvar Ed = 1, Gd = new Xb;\nfunction Hd(a, b) {\n  P.call(this, \"statevent\", a);\n  this.vc = b\n}\nw(Hd, P);\nfunction Id(a, b, c, d) {\n  P.call(this, \"timingevent\", a);\n  this.size = b;\n  this.uc = c;\n  this.tc = d\n}\nw(Id, P);\nvar od = 3, qd = 4, sd = 5, vd = 6, ud = 7, yd = 8, Bd = 9, Cd = 10, Ad = 11, wd = 12, sc = 13, tc = 14, xc = 15, yc = 16, zc = 17, Dc = 18, cd = \"y2f%\";\nq = Dd.prototype;\nq.Za = function(a, b, c, d, e) {\n  this.a.info(\"connect()\");\n  U(0);\n  this.r = b;\n  this.qa = c || {};\n  if(d && e !== h) {\n    this.qa.OSID = d, this.qa.OAID = e\n  }\n  this.a.info(\"connectTest_()\");\n  if(Jd(this)) {\n    this.Y = new md(this, this.a), this.Y.W(this.t), this.Y.Za(a)\n  }\n};\nfunction Kd(a) {\n  if(a.Y) {\n    a.Y.abort(), a.Y = k\n  }\n  if(a.k) {\n    a.k.cancel(), a.k = k\n  }\n  if(a.J) {\n    r.clearTimeout(a.J), a.J = k\n  }\n  Ld(a);\n  if(a.n) {\n    a.n.cancel(), a.n = k\n  }\n  if(a.C) {\n    r.clearTimeout(a.C), a.C = k\n  }\n}\nq.W = p(\"t\");\nq.Ab = function() {\n  return this.b == 0\n};\nfunction Md(a) {\n  if(!a.n && !a.C) {\n    a.C = V(u(a.Jb, a), 0), a.T = 0\n  }\n}\nq.Jb = function(a) {\n  this.C = k;\n  this.a.info(\"startForwardChannel_\");\n  if(Jd(this)) {\n    if(this.b == Ed) {\n      if(a) {\n        this.a.I(\"Not supposed to retry the open\")\n      }else {\n        this.a.info(\"open_()\");\n        this.xa = Math.floor(Math.random() * 1E5);\n        var a = this.xa++, b = new S(this, this.a, \"\", a, h);\n        b.W(this.t);\n        var c = Nd(this), d = this.Ja.l();\n        G(d, \"RID\", a);\n        this.qb && G(d, \"CVER\", this.qb);\n        Od(this, d);\n        hc(b, d, c);\n        this.n = b;\n        this.b = 2\n      }\n    }else {\n      this.b == 3 && (a ? Pd(this, a) : this.s.length == 0 ? this.a.info(\"startForwardChannel_ returned: nothing to send\") : this.n ? this.a.I(\"startForwardChannel_ returned: connection already in progress\") : (Pd(this), this.a.info(\"startForwardChannel_ finished, sent request\")))\n    }\n  }\n};\nfunction Pd(a, b) {\n  var c, d;\n  b ? a.fa > 6 ? (a.s = a.P.concat(a.s), a.P.length = 0, c = a.xa - 1, d = Nd(a)) : (c = b.B, d = b.U) : (c = a.xa++, d = Nd(a));\n  var e = a.Ja.l();\n  G(e, \"SID\", a.X);\n  G(e, \"RID\", c);\n  G(e, \"AID\", a.ta);\n  Od(a, e);\n  c = new S(a, a.a, a.X, c, a.T + 1);\n  c.W(a.t);\n  c.setTimeout(Math.round(1E4) + Math.round(1E4 * Math.random()));\n  a.n = c;\n  hc(c, e, d)\n}\nfunction Od(a, b) {\n  if(a.e) {\n    var c = a.e.getAdditionalParams(a);\n    c && B(c, function(a, c) {\n      G(b, c, a)\n    })\n  }\n}\nfunction Nd(a) {\n  var b = Math.min(a.s.length, 1E3), c = [\"count=\" + b], d;\n  a.fa > 6 && b > 0 ? (d = a.s[0].Eb, c.push(\"ofs=\" + d)) : d = 0;\n  for(var e = 0;e < b;e++) {\n    var f = a.s[e].Eb, i = a.s[e].map;\n    a.fa <= 6 ? f = e : f -= d;\n    try {\n      B(i, function(a, b) {\n        c.push(\"req\" + f + \"_\" + b + \"=\" + encodeURIComponent(a))\n      })\n    }catch(l) {\n      c.push(\"req\" + f + \"_type=\" + encodeURIComponent(\"_badmap\")), a.e && a.e.badMapError(a, i)\n    }\n  }\n  a.P = a.P.concat(a.s.splice(0, b));\n  return c.join(\"&\")\n}\nfunction Qd(a) {\n  if(!a.k && !a.J) {\n    a.nb = 1, a.J = V(u(a.Ib, a), 0), a.da = 0\n  }\n}\nfunction Rd(a) {\n  if(a.k || a.J) {\n    return a.a.I(\"Request already in progress\"), o\n  }\n  if(a.da >= 3) {\n    return o\n  }\n  a.a.info(\"Going to retry GET\");\n  a.nb++;\n  a.J = V(u(a.Ib, a), Sd(a, a.da));\n  a.da++;\n  return j\n}\nq.Ib = function() {\n  this.J = k;\n  if(Jd(this)) {\n    this.a.info(\"Creating new HttpRequest\");\n    this.k = new S(this, this.a, this.X, \"rpc\", this.nb);\n    this.k.W(this.t);\n    var a = this.ob.l();\n    G(a, \"RID\", \"rpc\");\n    G(a, \"SID\", this.X);\n    G(a, \"CI\", this.lb ? \"0\" : \"1\");\n    G(a, \"AID\", this.ta);\n    Od(this, a);\n    if(L) {\n      G(a, \"TYPE\", \"html\");\n      var b = this.k, c = Boolean(this.N);\n      b.Ca = 3;\n      b.S = J(a.l());\n      Ac(b, c)\n    }else {\n      G(a, \"TYPE\", \"xmlhttp\"), jc(this.k, a, j, this.N, o)\n    }\n    this.a.info(\"New Request created\")\n  }\n};\nfunction Jd(a) {\n  if(a.e) {\n    var b = a.e.okToMakeRequest(a);\n    if(b != 0) {\n      return a.a.info(\"Handler returned error code from okToMakeRequest\"), Z(a, b), o\n    }\n  }\n  return j\n}\nfunction xd(a, b, c) {\n  a.a.info(\"Test Connection Finished\");\n  a.lb = a.Tb && c;\n  a.i = b.i;\n  a.a.info(\"connectChannel_()\");\n  a.Xb(Ed, 0);\n  a.Ja = nd(a, a.r);\n  Md(a)\n}\nfunction td(a, b) {\n  a.a.info(\"Test Connection Failed\");\n  a.i = b.i;\n  Z(a, 2)\n}\nq.Hb = function(a, b) {\n  if(!(this.b == 0 || this.k != a && this.n != a)) {\n    if(this.i = a.i, this.n == a && this.b == 3) {\n      if(this.fa > 7) {\n        var c;\n        try {\n          c = Ec(b)\n        }catch(d) {\n          c = k\n        }\n        if(s(c) && c.length == 3) {\n          var e = c;\n          if(e[0] == 0) {\n            a: {\n              if(this.a.info(\"Server claims our backchannel is missing.\"), this.J) {\n                this.a.info(\"But we are currently starting the request.\")\n              }else {\n                if(this.k) {\n                  if(this.k.ka + 3E3 < this.n.ka) {\n                    Ld(this), this.k.cancel(), this.k = k\n                  }else {\n                    break a\n                  }\n                }else {\n                  this.a.na(\"We do not have a BackChannel established\")\n                }\n                Rd(this);\n                U(19)\n              }\n            }\n          }else {\n            if(this.Db = e[1], c = this.Db - this.ta, 0 < c && (e = e[2], this.a.info(e + \" bytes (in \" + c + \" arrays) are outstanding on the BackChannel\"), e < 37500 && this.lb && this.da == 0 && !this.Z)) {\n              this.Z = V(u(this.dc, this), 6E3)\n            }\n          }\n        }else {\n          this.a.info(\"Bad POST response data returned\"), Z(this, 11)\n        }\n      }else {\n        b != cd && (this.a.info(\"Bad data returned - missing/invald magic cookie\"), Z(this, 11))\n      }\n    }else {\n      if(this.k == a && Ld(this), !/^[\\s\\xa0]*$/.test(b)) {\n        c = Ec(b);\n        for(var e = this.e && this.e.channelHandleMultipleArrays ? [] : k, f = 0;f < c.length;f++) {\n          var i = c[f];\n          this.ta = i[0];\n          i = i[1];\n          if(this.b == 2) {\n            i[0] == \"c\" ? (this.X = i[1], this.N = this.correctHostPrefix(i[2]), i = i[3], this.fa = i != k ? i : 6, this.b = 3, this.e && this.e.channelOpened(this), this.ob = rd(this, this.N, this.r), Qd(this)) : i[0] == \"stop\" && Z(this, 7)\n          }else {\n            if(this.b == 3) {\n              if(i[0] == \"stop\") {\n                if(e && e.length) {\n                  this.e.channelHandleMultipleArrays(this, e), e.length = 0\n                }\n                Z(this, 7)\n              }else {\n                i[0] != \"noop\" && (e ? e.push(i) : this.e && this.e.channelHandleArray(this, i))\n              }\n              this.da = 0\n            }\n          }\n        }\n        e && e.length && this.e.channelHandleMultipleArrays(this, e)\n      }\n    }\n  }\n};\nq.correctHostPrefix = function(a) {\n  return this.Ub ? this.e ? this.e.correctHostPrefix(a) : a : k\n};\nq.dc = function() {\n  if(this.Z != k) {\n    this.Z = k, this.k.cancel(), this.k = k, Rd(this), U(20)\n  }\n};\nfunction Ld(a) {\n  if(a.Z != k) {\n    r.clearTimeout(a.Z), a.Z = k\n  }\n}\nq.ha = function(a) {\n  this.a.info(\"Request complete\");\n  var b;\n  if(this.k == a) {\n    Ld(this), this.k = k, b = 2\n  }else {\n    if(this.n == a) {\n      this.n = k, b = 1\n    }else {\n      return\n    }\n  }\n  this.i = a.i;\n  if(this.b != 0) {\n    if(a.F) {\n      b == 1 ? (b = v() - a.ka, Gd.dispatchEvent(new Id(Gd, a.U ? a.U.length : 0, b, this.T)), Md(this), this.P.length = 0) : Qd(this)\n    }else {\n      var c = a.yb();\n      if(c == 3 || c == 0 && this.i > 0) {\n        this.a.info(\"Not retrying due to error type\")\n      }else {\n        this.a.info(\"Maybe retrying, last error: \" + ec(c, this.i));\n        var d;\n        if(d = b == 1) {\n          this.n || this.C ? (this.a.I(\"Request already in progress\"), d = o) : this.b == Ed || this.T >= (this.Ha ? 0 : 2) ? d = o : (this.a.info(\"Going to retry POST\"), this.C = V(u(this.Jb, this, a), Sd(this, this.T)), this.T++, d = j)\n        }\n        if(d) {\n          return\n        }\n        if(b == 2 && Rd(this)) {\n          return\n        }\n        this.a.info(\"Exceeded max number of retries\")\n      }\n      this.a.info(\"Error: HTTP request failed\");\n      switch(c) {\n        case 1:\n          Z(this, 5);\n          break;\n        case 4:\n          Z(this, 10);\n          break;\n        case 3:\n          Z(this, 6);\n          break;\n        default:\n          Z(this, 2)\n      }\n    }\n  }\n};\nfunction Sd(a, b) {\n  var c = 5E3 + Math.floor(Math.random() * 1E4);\n  a.isActive() || (a.a.info(\"Inactive channel\"), c *= 2);\n  c *= b;\n  return c\n}\nq.Xb = function(a) {\n  Ha(arguments, this.b) >= 0 || g(Error(\"Unexpected channel state: \" + this.b))\n};\nfunction Z(a, b) {\n  a.a.info(\"Error code \" + b);\n  if(b == 2 || b == 9) {\n    var c = k;\n    a.e && (c = a.e.getNetworkTestImageUri(a));\n    var d = u(a.mc, a);\n    c || (c = new D(\"//www.google.com/images/cleardot.gif\"), J(c));\n    ld(c.toString(), 1E4, d)\n  }else {\n    U(2)\n  }\n  Td(a, b)\n}\nq.mc = function(a) {\n  a ? (this.a.info(\"Successfully pinged google.com\"), U(2)) : (this.a.info(\"Failed to ping google.com\"), U(1), Td(this, 8))\n};\nfunction Td(a, b) {\n  a.a.info(\"HttpChannel: error - \" + b);\n  a.b = 0;\n  a.e && a.e.channelError(a, b);\n  Ud(a);\n  Kd(a)\n}\nfunction Ud(a) {\n  a.b = 0;\n  a.i = -1;\n  if(a.e) {\n    if(a.P.length == 0 && a.s.length == 0) {\n      a.e.channelClosed(a)\n    }else {\n      a.a.info(\"Number of undelivered maps, pending: \" + a.P.length + \", outgoing: \" + a.s.length);\n      var b = Ka(a.P), c = Ka(a.s);\n      a.P.length = 0;\n      a.s.length = 0;\n      a.e.channelClosed(a, b, c)\n    }\n  }\n}\nfunction nd(a, b) {\n  var c = zd(a, k, b);\n  a.a.info(\"GetForwardChannelUri: \" + c);\n  return c\n}\nfunction rd(a, b, c) {\n  b = zd(a, a.Sa() ? b : k, c);\n  a.a.info(\"GetBackChannelUri: \" + b);\n  return b\n}\nfunction zd(a, b, c) {\n  var d = c instanceof D ? c.l() : new D(c, h);\n  if(d.L != \"\") {\n    b && Ra(d, b + \".\" + d.L), Sa(d, d.ba)\n  }else {\n    var e = window.location, d = bb(e.protocol, k, b ? b + \".\" + e.hostname : e.hostname, e.port, c)\n  }\n  a.qa && B(a.qa, function(a, b) {\n    G(d, b, a)\n  });\n  G(d, \"VER\", a.fa);\n  Od(a, d);\n  return d\n}\nq.$a = function(a) {\n  if(a) {\n    g(Error(\"Can't create secondary domain capable XhrIo object.\"))\n  }else {\n    return new dd\n  }\n};\nq.isActive = function() {\n  return!!this.e && this.e.isActive(this)\n};\nfunction V(a, b) {\n  ga(a) != \"function\" && g(Error(\"Fn must not be null and must be a function\"));\n  return r.setTimeout(function() {\n    a()\n  }, b)\n}\nfunction U(a) {\n  Gd.dispatchEvent(new Hd(Gd, a))\n}\nq.Sa = function() {\n  return L\n};\nfunction Vd() {\n}\nq = Vd.prototype;\nq.channelHandleMultipleArrays = k;\nq.okToMakeRequest = ca(0);\nq.channelOpened = aa();\nq.channelHandleArray = aa();\nq.channelError = aa();\nq.channelClosed = aa();\nq.getAdditionalParams = function() {\n  return{}\n};\nq.getNetworkTestImageUri = ca(k);\nq.isActive = ca(j);\nq.badMapError = aa();\nq.correctHostPrefix = function(a) {\n  return a\n};\nvar $, Wd;\nWd = {0:\"Ok\", 4:\"User is logging out\", 6:\"Unknown session ID\", 7:\"Stopped by server\", 8:\"General network error\", 2:\"Request failed\", 9:\"Blocked by a network administrator\", 5:\"No data from server\", 10:\"Got bad data from the server\", 11:\"Got a bad response from the server\"};\n$ = function(a, b) {\n  var c, d, e, f, i, l, m, n, x;\n  m = this;\n  a || (a = \"channel\");\n  a.match(/:\\/\\//) && a.replace(/^ws/, \"http\");\n  b || (b = {});\n  if(s(b || typeof b === \"string\")) {\n    b = {}\n  }\n  i = b.reconnectTime || 3E3;\n  x = function(a) {\n    m.readyState = m.readyState = a\n  };\n  x(this.CLOSED);\n  n = k;\n  e = b.sc;\n  c = new Vd;\n  c.channelOpened = function() {\n    e = n;\n    x($.OPEN);\n    return typeof m.onopen === \"function\" ? m.onopen() : h\n  };\n  d = k;\n  c.channelError = function(a, b) {\n    var c;\n    c = Wd[b];\n    d = b;\n    x($.Va);\n    return typeof m.onerror === \"function\" ? m.onerror(c, b) : h\n  };\n  l = k;\n  c.channelClosed = function(a, c, e) {\n    if(m.readyState !== $.CLOSED) {\n      n = k;\n      a = d ? Wd[d] : \"Closed\";\n      x($.CLOSED);\n      try {\n        if(typeof m.onclose === \"function\") {\n          m.onclose(a, c, e)\n        }\n      }catch(Xd) {\n        typeof console !== \"undefined\" && console !== k && console.error(Xd.stack)\n      }\n      b.reconnect && d !== 7 && d !== 0 && (c = d === 6 ? 0 : i, clearTimeout(l), l = setTimeout(f, c));\n      return d = k\n    }\n  };\n  c.channelHandleArray = function(a, b) {\n    try {\n      return typeof m.onmessage === \"function\" ? m.onmessage(b) : h\n    }catch(c) {\n      return setTimeout(function() {\n        g(c)\n      }, 0)\n    }\n  };\n  f = function() {\n    n && g(Error(\"Reconnect() called from invalid state\"));\n    x($.CONNECTING);\n    if(typeof m.onconnecting === \"function\") {\n      m.onconnecting()\n    }\n    clearTimeout(l);\n    n = new Dd(b.appVersion);\n    n.e = c;\n    d = k;\n    if(b.failFast) {\n      var f = n;\n      f.Ha = j;\n      f.a.info(\"setFailFast: true\");\n      if((f.n || f.C) && f.T > (f.Ha ? 0 : 2)) {\n        f.a.info(\"Retry count \" + f.T + \" > new maxRetries \" + (f.Ha ? 0 : 2) + \". Fail immediately!\"), f.n ? (f.n.cancel(), f.ha(f.n)) : (r.clearTimeout(f.C), f.C = k, Z(f, 2))\n      }\n    }\n    return n.Za(\"\" + a + \"/test\", \"\" + a + \"/bind\", k, e != k ? e.X : h, e != k ? e.ta : h)\n  };\n  this.open = function() {\n    m.readyState !== m.CLOSED && g(Error(\"Already open\"));\n    return f()\n  };\n  this.close = function() {\n    clearTimeout(l);\n    d = 0;\n    if(m.readyState !== $.CLOSED) {\n      x($.Va);\n      var a = n;\n      a.a.info(\"disconnect()\");\n      Kd(a);\n      if(a.b == 3) {\n        var b = a.xa++, c = a.Ja.l();\n        G(c, \"SID\", a.X);\n        G(c, \"RID\", b);\n        G(c, \"TYPE\", \"terminate\");\n        Od(a, c);\n        b = new S(a, a.a, a.X, b, h);\n        b.Ca = 2;\n        b.S = J(c.l());\n        c = new Image;\n        c.src = b.S;\n        c.onload = c.onerror = u(b.Zb, b);\n        b.ka = v();\n        kc(b);\n        Ud(a)\n      }\n    }\n  };\n  this.sendMap = function(a) {\n    var b;\n    ((b = m.readyState) === $.Va || b === $.CLOSED) && g(Error(\"Cannot send to a closed connection\"));\n    b = n;\n    b.b == 0 && g(Error(\"Invalid operation: sending map when state is closed\"));\n    b.s.length == 1E3 && b.a.I(\"Already have 1000 queued maps upon queueing \" + Gc(a));\n    b.s.push(new Fd(b.cc++, a));\n    (b.b == 2 || b.b == 3) && Md(b)\n  };\n  this.send = function(a) {\n    return this.sendMap({JSON:Gc(a)})\n  };\n  f();\n  return this\n};\n$.prototype.CONNECTING = $.CONNECTING = $.CONNECTING = 0;\n$.prototype.OPEN = $.OPEN = $.OPEN = 1;\n$.prototype.CLOSING = $.CLOSING = $.Va = 2;\n$.prototype.CLOSED = $.CLOSED = $.CLOSED = 3;\n(typeof exports !== \"undefined\" && exports !== k ? exports : window).BCSocket = $;\n\n})();\n\n})();\n//@ sourceURL=bcsocket");